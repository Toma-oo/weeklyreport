<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‘¨æŠ¥å†…å®¹å¡«å……å™¨ - å®Œæ•´ç‰ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: #0a0a0a;
            min-height: 100vh;
            padding: 20px;
            color: #e0e0e0;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .top-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 25px;
            background: #1a1a1a;
            border-radius: 16px;
            margin-bottom: 25px;
            border: 1px solid #333;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .logo h1 {
            font-size: 1.8rem;
            background: linear-gradient(135deg, #58a6ff, #1f6feb);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 600;
        }
        
        .auth-buttons {
            display: flex;
            gap: 10px;
        }
        
        .auth-btn {
            padding: 8px 20px;
            border: 1px solid #333;
            border-radius: 8px;
            background: #21262d;
            color: #c9d1d9;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .auth-btn:hover {
            border-color: #58a6ff;
            background: #30363d;
        }
        
        .auth-btn.primary {
            background: linear-gradient(135deg, #1f6feb, #58a6ff);
            color: white;
            border: none;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
        }
        
        @media (max-width: 1100px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
        
        .panel {
            background: #1a1a1a;
            padding: 25px;
            border-radius: 16px;
            border: 1px solid #333;
            height: fit-content;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }
        
        .panel h2 {
            color: #f0f6fc;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #333;
            font-size: 1.4rem;
            font-weight: 500;
        }
        
        .career-buttons {
            display: flex;
            gap: 12px;
            margin-bottom: 25px;
        }
        
        .career-btn {
            flex: 1;
            padding: 12px 6px;
            border: 1px solid #333;
            border-radius: 10px;
            background: #21262d;
            color: #c9d1d9;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
            font-size: 0.85rem;
            text-align: center;
        }
        
        .career-btn:hover {
            border-color: #58a6ff;
            background: #30363d;
        }
        
        .career-btn.active {
            background: linear-gradient(135deg, #1f6feb, #58a6ff);
            color: white;
            border-color: #1f6feb;
        }
        
        .mode-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .mode-btn {
            flex: 1;
            padding: 12px;
            border: 1px solid #333;
            border-radius: 10px;
            background: #21262d;
            color: #c9d1d9;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.1s;
            font-size: 0.9rem;
        }
        
        .mode-btn:hover {
            border-color: #58a6ff;
            background: #30363d;
        }
        
        .mode-btn.active {
            background: linear-gradient(135deg, #1f6feb, #58a6ff);
            color: white;
            border-color: #1f6feb;
        }
        
        .mode-desc {
            background: #161b22;
            border-left: 3px solid #1f6feb;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            line-height: 1.6;
            font-size: 0.9rem;
            color: #8b949e;
            display: block;
        }
        
        .input-box {
            width: 100%;
            height: 320px;
            padding: 18px;
            border: 1px solid #333;
            border-radius: 12px;
            font-size: 14px;
            line-height: 1.6;
            resize: vertical;
            background: #0d1117;
            color: #c9d1d9;
            font-family: 'JetBrains Mono', 'Consolas', monospace;
            margin-bottom: 15px;
        }
        
        .input-box:focus {
            outline: none;
            border-color: #58a6ff;
            box-shadow: 0 0 0 2px rgba(88, 166, 255, 0.2);
        }
        
        .generate-btn {
            background: linear-gradient(135deg, #1f6feb, #58a6ff);
            color: white;
            border: none;
            padding: 16px;
            font-size: 1.1rem;
            border-radius: 12px;
            cursor: pointer;
            width: 100%;
            font-weight: 500;
            transition: all 0.2s;
            margin-top: 5px;
        }
        
        .generate-btn:hover {
            background: linear-gradient(135deg, #58a6ff, #1f6feb);
            transform: translateY(-1px);
            box-shadow: 0 8px 24px rgba(88, 166, 255, 0.2);
        }
        
        .output-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .copy-btn {
            padding: 10px 24px;
            border: 1px solid #333;
            border-radius: 8px;
            background: #21262d;
            color: #c9d1d9;
            cursor: pointer;
            font-weight: 500;
            font-size: 0.9rem;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .copy-btn:hover {
            border-color: #58a6ff;
            background: #30363d;
        }
        
        .output-content {
            background: #0d1117;
            padding: 20px;
            border-radius: 12px;
            border: 1px solid #333;
            min-height: 600px;
            overflow-y: auto;
            white-space: pre-wrap;
            line-height: 1.7;
            font-family: 'JetBrains Mono', 'Consolas', monospace;
            font-size: 14px;
            color: #c9d1d9;
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            margin-top: 30px;
            color: #8b949e;
            font-size: 0.9rem;
            border-top: 1px solid #333;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 10px;
        }
        
        .footer-links a {
            color: #58a6ff;
            text-decoration: none;
            cursor: pointer;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 10, 10, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(4px);
        }
        
        .modal-content {
            background: #1a1a1a;
            width: 90%;
            max-width: 600px;
            padding: 25px;
            border-radius: 16px;
            border: 1px solid #333;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            position: relative;
        }
        
        .modal-header h3 {
            color: #f0f6fc;
            margin: 0;
            font-weight: 500;
        }
        
        .close-btn {
            background: none;
            border: none;
            font-size: 1.8rem;
            cursor: pointer;
            color: #8b949e;
            line-height: 1;
            position: absolute;
            right: 0;
            top: -10px;
            z-index: 1001;
        }
        
        textarea {
            width: 100%;
            padding: 15px;
            border: 1px solid #333;
            border-radius: 8px;
            background: #0d1117;
            color: #c9d1d9;
            font-size: 14px;
            resize: vertical;
            min-height: 120px;
            font-family: inherit;
        }
        
        .modal-footer {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
            margin-top: 20px;
        }
        
        .modal-btn {
            padding: 10px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
        }
        
        .modal-btn.primary {
            background: linear-gradient(135deg, #1f6feb, #58a6ff);
            color: white;
        }
        
        .modal-btn.secondary {
            background: #21262d;
            color: #c9d1d9;
            border: 1px solid #333;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .stat-card {
            background: #0d1117;
            padding: 20px;
            border-radius: 12px;
            border: 1px solid #333;
            text-align: center;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: 600;
            color: #58a6ff;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #8b949e;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            background: #1a1a1a;
            border: 1px solid #333;
            color: #f0f6fc;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            z-index: 1001;
            transform: translateX(120%);
            transition: transform 0.3s ease;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.success {
            border-left: 4px solid #2ea043;
        }
        
        .notification.error {
            border-left: 4px solid #f85149;
        }
        
        /* åå°ç®¡ç†æ ‡ç­¾é¡µæ ·å¼ */
        .admin-tabs {
            display: flex;
            border-bottom: 1px solid #333;
            margin-bottom: 20px;
        }
        
        .admin-tab {
            padding: 12px 20px;
            border: none;
            background: transparent;
            color: #8b949e;
            cursor: pointer;
            font-weight: 500;
            border-bottom: 3px solid transparent;
            transition: all 0.2s;
        }
        
        .admin-tab:hover {
            color: #c9d1d9;
        }
        
        .admin-tab.active {
            color: #58a6ff;
            border-bottom-color: #58a6ff;
        }
        
        .admin-tab-content {
            display: none;
        }
        
        .admin-tab-content.active {
            display: block;
        }
        
        .admin-log-container {
            max-height: 400px;
            overflow-y: auto;
            background: #0d1117;
            border-radius: 8px;
            border: 1px solid #333;
            padding: 15px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 12px;
            line-height: 1.5;
        }
        
        .log-entry {
            padding: 8px;
            border-bottom: 1px solid #333;
        }
        
        .log-entry:last-child {
            border-bottom: none;
        }
        
        .log-timestamp {
            color: #8b949e;
            font-size: 11px;
        }
        
        .log-action {
            color: #58a6ff;
            font-weight: bold;
        }
        
        .log-details {
            color: #c9d1d9;
            font-size: 11px;
        }
        
        .log-email {
            color: #2ea043;
            font-size: 11px;
        }
        
        .log-userid {
            color: #ff7b72;
            font-size: 11px;
        }
    </style>
</head>
<body>
    <div id="notification" class="notification"></div>
    
    <div class="top-nav">
        <div class="logo">
            <div style="font-size: 1.8rem;">ğŸ“‹</div>
            <h1>å‘¨æŠ¥å†…å®¹å¡«å……å™¨</h1>
        </div>
        
        <div class="auth-buttons">
            <button class="auth-btn" onclick="showLogin()">ç™»å½•</button>
            <button class="auth-btn primary" onclick="showRegister()">æ³¨å†Œ</button>
        </div>
    </div>
    
    <div class="container">
        <div class="main-content">
            <div class="panel">
                <h2>ğŸ“ å·¥ä½œå†…å®¹è¾“å…¥</h2>
                
                <div class="career-buttons">
                    <button class="career-btn active" onclick="selectCareer('it')">ITå¼€å‘</button>
                    <button class="career-btn" onclick="selectCareer('product')">äº§å“ç»ç†</button>
                    <button class="career-btn" onclick="selectCareer('market')">å¸‚åœºè¿è¥</button>
                </div>
                
                <div class="mode-selector">
                    <button class="mode-btn active" onclick="selectMode('standard')">æ ‡å‡†ç‰ˆ</button>
                    <button class="mode-btn" onclick="selectMode('luxury')">è±ªåç‰ˆ</button>
                </div>
                
                <div class="mode-desc" id="modeDesc">
                    <strong>æ ‡å‡†ç‰ˆï¼š</strong>åŒ…å«é¡¹ç›®åç§°ã€è¿›åº¦ã€ä¸‹å‘¨è®¡åˆ’ã€ä¸Šçº¿æ—¶é—´ã€ä»»åŠ¡é€‚å½“æ‰©å……
                </div>
                
                <textarea class="input-box" id="inputText" placeholder="è¯·åœ¨æ­¤è¾“å…¥å·¥ä½œå†…å®¹ï¼ˆæ¯è¡Œä¸€é¡¹ï¼‰ï¼š

æ”¯æŒè¯†åˆ«ä»¥ä¸‹æ ¼å¼ï¼š
é¡¹ç›®åç§°ï¼šxxxé¡¹ç›®
å·¥ä½œä»»åŠ¡ï¼š
å¼€å‘xxåŠŸèƒ½
å‚åŠ ä¼šè®®
ä¿®å¤é—®é¢˜
12.25ä¸Šçº¿
äº§å‡ºç‰©ï¼šxxxæ–‡æ¡£
é£é™©ï¼šxxxé£é™©
ä¼šè®®ç»“è®ºï¼š1.xxx 2.xxx

æç¤ºï¼šæ”¯æŒå¤šä¸ªé¡¹ç›®ï¼Œç©ºè¡Œåˆ†éš”"></textarea>
                
                <button class="generate-btn" onclick="generateReport()">
                    ğŸš€ ç”Ÿæˆå‘¨æŠ¥
                </button>
            </div>
            
            <div class="panel">
                <div class="output-header">
                    <h2>ğŸ“„ ç”Ÿæˆçš„å‘¨æŠ¥</h2>
                    <button class="copy-btn" onclick="copyReport()">
                        ğŸ“‹ å¤åˆ¶å‘¨æŠ¥
                    </button>
                </div>
                
                <div class="output-content" id="outputContent">
ç”Ÿæˆçš„å‘¨æŠ¥å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...

æ ‡å‡†ç‰ˆï¼šåŒ…å«é¡¹ç›®åç§°ã€è¿›åº¦ã€ä¸‹å‘¨è®¡åˆ’ã€ä¸Šçº¿æ—¶é—´ã€ä»»åŠ¡é€‚å½“æ‰©å……
è±ªåç‰ˆï¼šåŒ…å«å…·ä½“æŠ€æœ¯æ–¹æ¡ˆã€é‡åŒ–æŒ‡æ ‡ã€é£é™©ã€äº§å‡ºç‰©ã€ä¼šè®®ç»“è®ºç­‰

æ”¯æŒè¯†åˆ«å¤šä¸ªé¡¹ç›®ï¼Œæ™ºèƒ½æ‰©å……å†…å®¹ã€‚
                </div>
            </div>
        </div>
        
        <div class="footer">
            <div class="footer-links">
                <a onclick="showFeedback()">é—®é¢˜åé¦ˆ</a>
                <a onclick="showAdmin()">ç®¡ç†åå°</a>
            </div>
        </div>
    </div>
    
    <!-- ç™»å½•æ¨¡æ€æ¡† -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ğŸ” ç”¨æˆ·ç™»å½•</h3>
                <button class="close-btn" onclick="closeModal('loginModal')">Ã—</button>
            </div>
            <div style="margin-bottom: 20px;">
                <input type="email" id="loginEmail" placeholder="é‚®ç®±åœ°å€" style="width: 100%; padding: 12px; margin-bottom: 15px; background: #0d1117; color: #c9d1d9; border: 1px solid #333; border-radius: 8px;">
                <input type="password" id="loginPassword" placeholder="å¯†ç " style="width: 100%; padding: 12px; margin-bottom: 15px; background: #0d1117; color: #c9d1d9; border: 1px solid #333; border-radius: 8px;">
            </div>
            <div class="modal-footer">
                <button class="modal-btn secondary" onclick="closeModal('loginModal')">å–æ¶ˆ</button>
                <button class="modal-btn primary" onclick="login()">ç™»å½•</button>
            </div>
        </div>
    </div>
    
    <!-- æ³¨å†Œæ¨¡æ€æ¡† -->
    <div class="modal" id="registerModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ğŸ“ ç”¨æˆ·æ³¨å†Œ</h3>
                <button class="close-btn" onclick="closeModal('registerModal')">Ã—</button>
            </div>
            <div style="margin-bottom: 20px;">
                <input type="email" id="registerEmail" placeholder="é‚®ç®±åœ°å€" style="width: 100%; padding: 12px; margin-bottom: 15px; background: #0d1117; color: #c9d1d9; border: 1px solid #333; border-radius: 8px;">
                <input type="password" id="registerPassword" placeholder="å¯†ç ï¼ˆè‡³å°‘6ä½ï¼‰" style="width: 100%; padding: 12px; margin-bottom: 15px; background: #0d1117; color: #c9d1d9; border: 1px solid #333; border-radius: 8px;">
                <input type="password" id="registerConfirmPassword" placeholder="ç¡®è®¤å¯†ç " style="width: 100%; padding: 12px; margin-bottom: 15px; background: #0d1117; color: #c9d1d9; border: 1px solid #333; border-radius: 8px;">
            </div>
            <div class="modal-footer">
                <button class="modal-btn secondary" onclick="closeModal('registerModal')">å–æ¶ˆ</button>
                <button class="modal-btn primary" onclick="register()">æ³¨å†Œ</button>
            </div>
        </div>
    </div>
    
    <!-- åé¦ˆæ¨¡æ€æ¡† -->
    <div class="modal" id="feedbackModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ğŸ“ é—®é¢˜åé¦ˆ</h3>
                <button class="close-btn" onclick="closeModal('feedbackModal')">Ã—</button>
            </div>
            <select id="feedbackType" style="width: 100%; padding: 10px; margin-bottom: 15px; background: #0d1117; color: #c9d1d9; border: 1px solid #333; border-radius: 8px;">
                <option>BUGæŠ¥å‘Š</option>
                <option>åŠŸèƒ½å»ºè®®</option>
                <option>æ¨¡æ¿å»ºè®®</option>
                <option>å…¶ä»–</option>
            </select>
            <textarea id="feedbackText" placeholder="è¯·æè¿°ä½ é‡åˆ°çš„é—®é¢˜æˆ–å»ºè®®..."></textarea>
            <div class="modal-footer">
                <button class="modal-btn secondary" onclick="closeModal('feedbackModal')">å–æ¶ˆ</button>
                <button class="modal-btn primary" onclick="submitFeedback()">æäº¤åé¦ˆ</button>
            </div>
        </div>
    </div>
    
    <!-- ç®¡ç†åå°æ¨¡æ€æ¡† -->
    <div class="modal" id="adminModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ğŸ”§ ç®¡ç†åå°</h3>
                <button class="close-btn" onclick="closeModal('adminModal')">Ã—</button>
            </div>
            
            <div class="admin-tabs">
                <button class="admin-tab active" onclick="switchAdminTab(0)">ç»Ÿè®¡æ•°æ®</button>
                <button class="admin-tab" onclick="switchAdminTab(1)">ç”¨æˆ·åé¦ˆ</button>
                <button class="admin-tab" onclick="switchAdminTab(2)">è¡Œä¸ºæ—¥å¿—</button>
                <button class="admin-tab" onclick="switchAdminTab(3)">ç”¨æˆ·ç®¡ç†</button>
            </div>
            
            <div class="admin-tab-content active" id="adminTab0">
                <div style="margin-bottom: 25px;">
                    <h4 style="margin-bottom: 15px; color: #f0f6fc;">ä»Šæ—¥æ•°æ®</h4>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value" id="adminTodayUsers">0</div>
                            <div class="stat-label">ä»Šæ—¥æ´»è·ƒç”¨æˆ·</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="adminTodayReports">0</div>
                            <div class="stat-label">ä»Šæ—¥ç”Ÿæˆæ•°</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="adminTodayIT">0</div>
                            <div class="stat-label">ITå¼€å‘</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="adminTodayProduct">0</div>
                            <div class="stat-label">äº§å“ç»ç†</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="adminTodayMarket">0</div>
                            <div class="stat-label">å¸‚åœºè¿è¥</div>
                        </div>
                    </div>
                </div>
                <div style="margin-bottom: 25px;">
                    <h4 style="margin-bottom: 15px; color: #f0f6fc;">ç´¯è®¡æ•°æ®</h4>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value" id="adminTotalUsers">0</div>
                            <div class="stat-label">æ€»ç”¨æˆ·æ•°</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="adminTotalReports">0</div>
                            <div class="stat-label">æ€»ç”Ÿæˆæ•°</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="adminRegisteredUsers">0</div>
                            <div class="stat-label">æ³¨å†Œç”¨æˆ·</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="adminAnonymousUsers">0</div>
                            <div class="stat-label">åŒ¿åç”¨æˆ·</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="adminRetentionRate">0%</div>
                            <div class="stat-label">å‘¨ç•™å­˜ç‡</div>
                        </div>
                    </div>
                </div>
                <div style="text-align: center; padding: 20px; background: #0d1117; border-radius: 8px;">
                    <button class="modal-btn secondary" onclick="resetAllStats()" style="width: 100%;">é‡ç½®æ‰€æœ‰æ•°æ®</button>
                    <p style="margin-top: 10px; font-size: 12px; color: #8b949e;">é‡ç½®å°†æ¸…ç©ºæ‰€æœ‰ç»Ÿè®¡æ•°æ®å’Œæ—¥å¿—</p>
                </div>
            </div>
            
            <div class="admin-tab-content" id="adminTab1">
                <div style="margin-bottom: 20px;">
                    <h4 style="margin-bottom: 10px; color: #f0f6fc;">ç”¨æˆ·åé¦ˆ</h4>
                    <textarea id="adminFeedback" style="width: 100%; height: 400px; font-size: 0.85rem;" readonly></textarea>
                </div>
                <div class="modal-footer">
                    <button class="modal-btn secondary" onclick="clearFeedback()">æ¸…ç©ºåé¦ˆ</button>
                    <button class="modal-btn secondary" onclick="exportFeedbackExcel()">å¯¼å‡ºExcel</button>
                </div>
            </div>
            
            <div class="admin-tab-content" id="adminTab2">
                <div style="margin-bottom: 20px;">
                    <h4 style="margin-bottom: 10px; color: #f0f6fc;">ç”¨æˆ·è¡Œä¸ºæ—¥å¿—</h4>
                    <div class="admin-log-container" id="adminLogs">
                        <div class="log-entry">
                            <div class="log-timestamp">ç³»ç»Ÿåˆå§‹åŒ–</div>
                            <div class="log-action">é¡µé¢è®¿é—®</div>
                            <div class="log-userid">ç”¨æˆ·IDï¼šç³»ç»Ÿ</div>
                            <div class="log-details">ç”¨æˆ·è®¿é—®äº†é¦–é¡µ</div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="modal-btn secondary" onclick="clearLogs()">æ¸…ç©ºæ—¥å¿—</button>
                    <button class="modal-btn secondary" onclick="exportLogsExcel()">å¯¼å‡ºExcel</button>
                </div>
            </div>
            
            <div class="admin-tab-content" id="adminTab3">
                <div style="margin-bottom: 20px;">
                    <h4 style="margin-bottom: 10px; color: #f0f6fc;">ç”¨æˆ·ç®¡ç†</h4>
                    <div style="background: #0d1117; border-radius: 8px; padding: 15px; margin-bottom: 15px;">
                        <h5 style="color: #58a6ff; margin-bottom: 10px;">ç”¨æˆ·ç»Ÿè®¡</h5>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <div>
                                <strong style="color: #c9d1d9;">æ³¨å†Œç”¨æˆ·:</strong> 
                                <span id="registeredCount" style="color: #2ea043;">0</span>
                            </div>
                            <div>
                                <strong style="color: #c9d1d9;">åŒ¿åç”¨æˆ·:</strong> 
                                <span id="anonymousCount" style="color: #ff7b72;">0</span>
                            </div>
                        </div>
                    </div>
                    <div style="background: #0d1117; border-radius: 8px; padding: 15px; margin-bottom: 15px;">
                        <h5 style="color: #58a6ff; margin-bottom: 10px;">åŒ¿åç”¨æˆ·IDæ˜ å°„</h5>
                        <div id="anonymousUserList" style="max-height: 200px; overflow-y: auto; font-size: 12px;">
                            <div style="color: #8b949e; padding: 5px;">æš‚æ— åŒ¿åç”¨æˆ·æ•°æ®</div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="modal-btn secondary" onclick="clearAnonymousData()">æ¸…ç†åŒ¿åæ•°æ®</button>
                        <button class="modal-btn secondary" onclick="refreshUserData()">åˆ·æ–°æ•°æ®</button>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="modal-btn secondary" onclick="closeModal('adminModal')">å…³é—­</button>
                <button class="modal-btn secondary" onclick="exportAllData()">å¯¼å‡ºå…¨éƒ¨æ•°æ®</button>
            </div>
        </div>
    </div>

    <script>
        // ==================== æ ¸å¿ƒé…ç½® ====================
        let currentCareer = 'it';
        let currentMode = 'standard';
        let generationCount = 0;
        let currentUserEmail = null; // è®°å½•å½“å‰ç™»å½•ç”¨æˆ·çš„é‚®ç®±
        let currentUserId = null; // å½“å‰ç”¨æˆ·IDï¼ˆå¯èƒ½æ˜¯åŒ¿åIDæˆ–é‚®ç®±ï¼‰
        
        // ç”¨æˆ·æ•°æ®ç»Ÿè®¡ - åŒ…å«åŒ¿åç”¨æˆ·
        let userStats = {
            totalUsers: 0,
            registeredUsers: 0,
            anonymousUsers: 0,
            activeUsers: [],
            totalReports: 0,
            careerStats: { it: 0, product: 0, market: 0 },
            userLogs: [],
            anonymousUserMap: {}, // åŒ¿åç”¨æˆ·IDæ˜ å°„
            todayStats: {
                date: new Date().toDateString(),
                users: new Set(),
                reports: 0,
                careers: { it: 0, product: 0, market: 0 }
            }
        };
        
        // ç”¨æˆ·æ³¨å†Œæ•°æ®
        let registeredUsers = [];
        
        // ==================== ä¿®å¤ï¼šå®Œæ•´çš„ç¤ºä¾‹æ¨¡æ¿ ====================
        const careerExamples = {
            it: `é¡¹ç›®åç§°ï¼šç”¨æˆ·ä¸­å¿ƒv2.0
å·¥ä½œä»»åŠ¡ï¼š
å¼€å‘ç™»å½•è®¤è¯åŠŸèƒ½
å‚åŠ éœ€æ±‚è¯„å®¡ä¼šè®®
å‚åŠ æ¶æ„è¯„å®¡ä¼šè®®
æŠ€æœ¯è°ƒç ”æ–¹æ¡ˆé€‰å‹
è”è°ƒæµ‹è¯•æ¥å£åŠŸèƒ½
ä¿®å¤æƒé™ç®¡ç†bug
éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ
å†™æ¥å£æ–‡æ¡£
å†™æµ‹è¯•ç”¨ä¾‹å¹¶è¯„å®¡
æµ‹è¯•ç³»ç»Ÿå¹¶åé¦ˆè·Ÿè¿›é—®é¢˜
æ€§èƒ½å‹æµ‹
æ•°æ®åº“è¡¨ç»“æ„è®¾è®¡
12.28ä¸Šçº¿
äº§å‡ºç‰©ï¼šæŠ€æœ¯æ–¹æ¡ˆæ–‡æ¡£ã€APIæ¥å£æ–‡æ¡£
é£é™©ï¼šç¬¬ä¸‰æ–¹æœåŠ¡ä¾èµ–é£é™©
ä¼šè®®ç»“è®ºï¼š1.ç¡®å®šæŠ€æœ¯æ–¹æ¡ˆ 2.æ˜ç¡®æ¥å£è§„èŒƒ 3.ç¡®è®¤æ’æœŸ

é¡¹ç›®åç§°ï¼šè®¢å•ç³»ç»Ÿä¼˜åŒ–
å·¥ä½œä»»åŠ¡ï¼š
ä¼˜åŒ–ä¸‹å•æµç¨‹
è®¾è®¡åº“å­˜ç®¡ç†æ¨¡å—
æ€§èƒ½ä¼˜åŒ–
æ•°æ®è¡¨ç»“æ„è°ƒæ•´
æ¥å£æ€§èƒ½æµ‹è¯•
ç›‘æ§ç³»ç»Ÿé›†æˆ
1.15ä¸Šçº¿
äº§å‡ºç‰©ï¼šæ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆã€ç›‘æ§å‘Šè­¦è§„åˆ™
é£é™©ï¼šæ•°æ®è¿ç§»é£é™©
ä¼šè®®ç»“è®ºï¼š1.ç¡®å®šä¼˜åŒ–æ–¹æ¡ˆ 2.æ˜ç¡®ç›‘æ§æŒ‡æ ‡ 3.åˆ¶å®šå®æ–½è®¡åˆ’

é¡¹ç›®åç§°ï¼šæ”¯ä»˜ç½‘å…³å‡çº§
å·¥ä½œä»»åŠ¡ï¼š
ç ”ç©¶æ”¯ä»˜é€šé“API
è®¾è®¡æ”¯ä»˜è·¯ç”±ç­–ç•¥
å¼€å‘å¯¹è´¦åŠŸèƒ½
å®‰å…¨åˆè§„å®¡è®¡
å‹åŠ›æµ‹è¯•
ç°åº¦å‘å¸ƒæ–¹æ¡ˆ
2.10ä¸Šçº¿
äº§å‡ºç‰©ï¼šæ”¯ä»˜è·¯ç”±æ–¹æ¡ˆã€å®‰å…¨å®¡è®¡æŠ¥å‘Š
é£é™©ï¼šæ”¯ä»˜å¤±è´¥é£é™©
ä¼šè®®ç»“è®ºï¼š1.ç¡®è®¤æŠ€æœ¯æ–¹æ¡ˆ 2.åˆ¶å®šæµ‹è¯•è®¡åˆ’ 3.å‡†å¤‡åº”æ€¥é¢„æ¡ˆ`,

            product: `é¡¹ç›®åç§°ï¼šç”µå•†äº§å“ä¼˜åŒ–v3.2
å·¥ä½œä»»åŠ¡ï¼š
è®¾è®¡è´­ç‰©è½¦ä¼˜åŒ–åŸå‹
æ’°å†™äº§å“éœ€æ±‚æ–‡æ¡£
ä¸éœ€æ±‚æ–¹æ²Ÿé€šç¡®è®¤éœ€æ±‚
éœ€æ±‚è¯„å®¡ä¼šè®®
è·Ÿè¿›é¡¹ç›®å¼€å‘è¿›åº¦
éªŒæ”¶ç”¨æˆ·ä¸­å¿ƒåŠŸèƒ½
æ’°å†™ç”¨æˆ·æ‰‹å†Œ
è·Ÿè¿›é¡¹ç›®åé¦ˆé—®é¢˜
ç»˜åˆ¶è®¢å•ä¸šåŠ¡æµç¨‹å›¾
å‚åŠ UIè¯„å®¡ä¼šè®®
æ•°æ®åˆ†ææŠ¥å‘Šæ’°å†™
12.25ä¸Šçº¿
äº§å‡ºç‰©ï¼šPRDæ–‡æ¡£ã€åŸå‹è®¾è®¡ç¨¿
é£é™©ï¼šéœ€æ±‚å˜æ›´é£é™©
ä¼šè®®ç»“è®ºï¼š1.ç¡®è®¤åŠŸèƒ½èŒƒå›´ 2.æ˜ç¡®äº¤äº’ç»†èŠ‚ 3.ç¡®å®šå¼€å‘æ’æœŸ

é¡¹ç›®åç§°ï¼šä¼šå‘˜ç³»ç»Ÿv1.0
å·¥ä½œä»»åŠ¡ï¼š
è®¾è®¡ä¼šå‘˜ç­‰çº§ä½“ç³»
ç­–åˆ’ç§¯åˆ†å•†åŸæ–¹æ¡ˆ
ç”¨æˆ·æƒç›Šè®¾è®¡
ä¼šå‘˜æ•°æ®åˆ†æ
è¥é”€æ´»åŠ¨ç­–åˆ’
1.30ä¸Šçº¿
äº§å‡ºç‰©ï¼šä¼šå‘˜ä½“ç³»æ–¹æ¡ˆã€è¥é”€æ´»åŠ¨ç­–åˆ’
é£é™©ï¼šç”¨æˆ·å‚ä¸åº¦é£é™©
ä¼šè®®ç»“è®ºï¼š1.ç¡®å®šä¼šå‘˜æƒç›Š 2.æ˜ç¡®ç§¯åˆ†è§„åˆ™ 3.åˆ¶å®šæ¨å¹¿ç­–ç•¥

é¡¹ç›®åç§°ï¼šæ•°æ®è´¨é‡ç³»ç»Ÿ
å·¥ä½œä»»åŠ¡ï¼š
æ¢³ç†äº§å“æ¶æ„
ç ”ç©¶ç«å“æ–¹æ¡ˆ
è®¾è®¡æ•°æ®ç›‘æ§è§„åˆ™
åˆ¶å®šæ•°æ®æ²»ç†æµç¨‹
ç¼–å†™äº§å“éœ€æ±‚æ–‡æ¡£
è®¾è®¡æ•°æ®å¯è§†åŒ–çœ‹æ¿
2.20ä¸Šçº¿
äº§å‡ºç‰©ï¼šæ•°æ®æ²»ç†æ–¹æ¡ˆã€ç›‘æ§è§„åˆ™æ–‡æ¡£
é£é™©ï¼šæ•°æ®å‡†ç¡®æ€§é£é™©
ä¼šè®®ç»“è®ºï¼š1.ç¡®è®¤æ•°æ®æŒ‡æ ‡ 2.æ˜ç¡®ç›‘æ§è§„åˆ™ 3.åˆ¶å®šå®æ–½è®¡åˆ’`,

            market: `é¡¹ç›®åç§°ï¼šåŒåä¸€ä¿ƒé”€æ´»åŠ¨
å·¥ä½œä»»åŠ¡ï¼š
ç­–åˆ’æ´»åŠ¨æ•´ä½“æ–¹æ¡ˆ
åˆ¶ä½œå®£ä¼ æµ·æŠ¥å’Œæ–‡æ¡ˆ
åˆ†æå¾€æœŸæ´»åŠ¨æ•°æ®
æ‰§è¡Œç¤¾äº¤åª’ä½“æŠ•æ”¾
ç›‘æ§æ´»åŠ¨å®æ—¶æ•ˆæœ
ä¸KOLæ´½è°ˆåˆä½œ
ä¼˜åŒ–å¹¿å‘ŠæŠ•æ”¾ç­–ç•¥
æ•´ç†æ´»åŠ¨æ•ˆæœæŠ¥å‘Š
æ´»åŠ¨æ•ˆæœæ•°æ®åˆ†æ
åª’ä½“å…³ç³»ç»´æŠ¤
12.10ä¸Šçº¿
äº§å‡ºç‰©ï¼šæ´»åŠ¨æ–¹æ¡ˆã€æ•°æ®åˆ†ææŠ¥å‘Š
é£é™©ï¼šè½¬åŒ–ç‡ä¸è¾¾é¢„æœŸ
ä¼šè®®ç»“è®ºï¼š1.ç¡®å®šæ´»åŠ¨ä¸»é¢˜ 2.ç¡®è®¤é¢„ç®—åˆ†é… 3.æ˜ç¡®KPIæŒ‡æ ‡

é¡¹ç›®åç§°ï¼šæ–°å“å‘å¸ƒä¼š
å·¥ä½œä»»åŠ¡ï¼š
å‘å¸ƒä¼šæµç¨‹ç­–åˆ’
åª’ä½“é‚€è¯·å‡½åˆ¶ä½œ
ç°åœºå¸ƒç½®æ–¹æ¡ˆè®¾è®¡
æ¼”è®²å˜‰å®¾å†…å®¹å‡†å¤‡
å®£ä¼ ç‰©æ–™åˆ¶ä½œ
åª’ä½“å…³ç³»å¯¹æ¥
1.20ä¸Šçº¿
äº§å‡ºç‰©ï¼šå‘å¸ƒä¼šæ–¹æ¡ˆã€å®£ä¼ ç‰©æ–™
é£é™©ï¼šç°åœºæ•ˆæœé£é™©
ä¼šè®®ç»“è®ºï¼š1.ç¡®è®¤å‘å¸ƒä¼šæµç¨‹ 2.æ˜ç¡®å®£ä¼ ç­–ç•¥ 3.åˆ¶å®šåº”æ€¥é¢„æ¡ˆ

é¡¹ç›®åç§°ï¼šå“ç‰Œå‡çº§æ´»åŠ¨
å·¥ä½œä»»åŠ¡ï¼š
ç ”ç©¶å¸‚åœºè¶‹åŠ¿
è®¾è®¡å“ç‰Œè§†è§‰ä½“ç³»
åˆ¶å®šæ¨å¹¿ç­–ç•¥
åˆ¶ä½œå®£ä¼ è§†é¢‘
ç­–åˆ’çº¿ä¸Šçº¿ä¸‹æ´»åŠ¨
åª’ä½“åˆä½œæ´½è°ˆ
2.15ä¸Šçº¿
äº§å‡ºç‰©ï¼šå“ç‰Œæ‰‹å†Œã€æ¨å¹¿æ–¹æ¡ˆ
é£é™©ï¼šå“ç‰Œè®¤çŸ¥é£é™©
ä¼šè®®ç»“è®ºï¼š1.ç¡®è®¤å“ç‰Œå®šä½ 2.æ˜ç¡®ä¼ æ’­ç­–ç•¥ 3.åˆ¶å®šæ‰§è¡Œè®¡åˆ’`
        };
        
        // ==================== ä¿®å¤ï¼šå¢åŠ è¯æœ¯æ¨¡æ¿åº“ ====================
        const taskTemplates = {
            // é€šç”¨æ¨¡æ¿ - å¢åŠ åˆ°5-6ä¸ª
            'æ¢³ç†': [
                (task) => `æ¢³ç†${task}ï¼Œæ•´ç†åŠŸèƒ½æ¨¡å—å…³ç³»ï¼Œæ˜ç¡®ç³»ç»Ÿè¾¹ç•Œï¼Œè¾“å‡ºäº§å“æ¶æ„å›¾`,
                (task) => `å®Œæˆ${task}å·¥ä½œï¼Œç»˜åˆ¶ç³»ç»Ÿç»„ä»¶å›¾ï¼Œå®šä¹‰æ¥å£è§„èŒƒï¼Œåˆ¶å®šå®æ–½è·¯çº¿å›¾`,
                (task) => `è§„åˆ’${task}æ–¹æ¡ˆï¼Œæ˜ç¡®æŠ€æœ¯é€‰å‹ï¼Œè®¾è®¡æ‰©å±•æ–¹æ¡ˆï¼Œè¯„ä¼°å®æ–½é£é™©`,
                (task) => `ç³»ç»Ÿæ¢³ç†${task}ï¼Œæ•´ç†ä¸šåŠ¡é€»è¾‘ï¼Œç»˜åˆ¶æµç¨‹å›¾ï¼Œæ˜ç¡®äº¤äº’è§„èŒƒ`,
                (task) => `å…¨é¢æ¢³ç†${task}ï¼Œåˆ†æä¸šåŠ¡åœºæ™¯ï¼Œæ•´ç†éœ€æ±‚æ–‡æ¡£ï¼Œåˆ¶å®šå®æ–½æ–¹æ¡ˆ`,
                (task) => `è¯¦ç»†æ¢³ç†${task}ï¼Œæ•´ç†æ ¸å¿ƒæµç¨‹ï¼Œè¯†åˆ«å…³é”®èŠ‚ç‚¹ï¼Œåˆ¶å®šæ‰§è¡Œè®¡åˆ’`
            ],
            'ç ”ç©¶': [
                (task, career) => career === 'market' 
                    ? `ç ”ç©¶${task}ï¼Œåˆ†æå¸‚åœºåŠ¨æ€å’Œç«å“ç­–ç•¥ï¼ŒæŒ–æ˜ç”¨æˆ·éœ€æ±‚ï¼Œåˆ¶å®šå·®å¼‚åŒ–æ¨å¹¿æ–¹æ¡ˆ`
                    : career === 'product'
                    ? `ç ”ç©¶${task}ï¼Œåˆ†æç«å“åŠŸèƒ½å’Œç”¨æˆ·ä½“éªŒï¼Œè¯†åˆ«äº§å“æœºä¼šç‚¹ï¼Œåˆ¶å®šäº§å“ç­–ç•¥`
                    : `ç ”ç©¶${task}ï¼Œåˆ†ææŠ€æœ¯æ–¹æ¡ˆå’Œæ¶æ„è®¾è®¡ï¼Œè¯„ä¼°æ€§èƒ½å’Œæ‰©å±•æ€§`,
                (task, career) => career === 'market'
                    ? `è¿›è¡Œ${task}è°ƒç ”ï¼Œæ”¶é›†ç”¨æˆ·åé¦ˆï¼Œåˆ†æè¡Œä¸šæœ€ä½³å®è·µï¼Œåˆ¶å®šå¸‚åœºç­–ç•¥`
                    : `è¿›è¡Œ${task}è°ƒç ”ï¼Œæ”¶é›†æŠ€æœ¯èµ„æ–™ï¼Œåˆ†æå®ç°æ–¹æ¡ˆï¼Œåˆ¶å®šæŠ€æœ¯è·¯çº¿`,
                (task, career) => career === 'market'
                    ? `æ·±å…¥è°ƒç ”${task}ï¼Œåˆ†æå¸‚åœºè¶‹åŠ¿ï¼Œè¯„ä¼°ç«äº‰æ€åŠ¿ï¼Œåˆ¶å®šåº”å¯¹ç­–ç•¥`
                    : `æ·±å…¥ç ”ç©¶${task}ï¼Œåˆ†ææŠ€æœ¯å¯è¡Œæ€§ï¼Œè¯„ä¼°å®æ–½æ–¹æ¡ˆï¼Œåˆ¶å®šæŠ€æœ¯è§„åˆ’`,
                (task, career) => career === 'market'
                    ? `è¯¦ç»†ç ”ç©¶${task}ï¼Œæ”¶é›†ç«å“èµ„æ–™ï¼Œåˆ†æç”¨æˆ·è¡Œä¸ºï¼Œåˆ¶å®šä¼˜åŒ–ç­–ç•¥`
                    : `å…¨é¢ç ”ç©¶${task}ï¼Œæ”¶é›†è¡Œä¸šä¿¡æ¯ï¼Œåˆ†ææŠ€æœ¯è¶‹åŠ¿ï¼Œåˆ¶å®šå‘å±•è·¯çº¿`
            ],
            'è®¾è®¡': [
                (task, career) => career === 'market'
                    ? `è®¾è®¡${task}æ–¹æ¡ˆï¼Œåˆ¶å®šè¯¦ç»†æ‰§è¡Œè®¡åˆ’ï¼Œæ˜ç¡®æ´»åŠ¨æµç¨‹ï¼Œè¾“å‡ºç­–åˆ’æ–‡æ¡£`
                    : career === 'product'
                    ? `è®¾è®¡${task}åŸå‹ï¼Œæ˜ç¡®äº¤äº’æµç¨‹å’Œè§†è§‰è§„èŒƒï¼Œè¾“å‡ºè®¾è®¡æ–‡æ¡£`
                    : `è®¾è®¡${task}æ¶æ„ï¼Œæ˜ç¡®ç³»ç»Ÿæ¨¡å—å’Œæ¥å£å®šä¹‰ï¼Œè¾“å‡ºæŠ€æœ¯æ–‡æ¡£`,
                (task, career) => career === 'market'
                    ? `åˆ¶å®š${task}è®¾è®¡ï¼Œæ˜ç¡®åˆ›æ„ä¸»é¢˜ï¼Œè§„åˆ’æ‰§è¡Œç»†èŠ‚ï¼Œè¾“å‡ºåˆ›æ„æ–¹æ¡ˆ`
                    : `å®Œæˆ${task}è®¾è®¡ï¼Œæ˜ç¡®åŠŸèƒ½è§„æ ¼ï¼Œè§„åˆ’å®æ–½æ–¹æ¡ˆï¼Œè¾“å‡ºè¯¦ç»†è®¾è®¡`,
                (task, career) => career === 'market'
                    ? `è§„åˆ’${task}è®¾è®¡ï¼Œç¡®å®šè§†è§‰é£æ ¼ï¼Œåˆ¶å®šä¼ æ’­ç­–ç•¥ï¼Œè¾“å‡ºå“ç‰Œæ–¹æ¡ˆ`
                    : `å¼€å‘${task}è®¾è®¡ï¼Œç¡®å®šæŠ€æœ¯æ–¹æ¡ˆï¼Œè§„åˆ’å¼€å‘æµç¨‹ï¼Œè¾“å‡ºæŠ€æœ¯æ–¹æ¡ˆ`
            ],
            
            // ITå¼€å‘ä¸“å± - å¢åŠ åˆ°5ä¸ª
            'å¼€å‘': [
                (task) => `å¼€å‘${task}åŠŸèƒ½ï¼Œé‡‡ç”¨å¾®æœåŠ¡æ¶æ„ï¼Œå®ç°RESTful APIæ¥å£ï¼Œé€šè¿‡å•å…ƒæµ‹è¯•éªŒè¯`,
                (task) => `å®ç°${task}æ¨¡å—ï¼Œè®¾è®¡é«˜å¯ç”¨æœåŠ¡ï¼Œå®Œæˆé›†æˆæµ‹è¯•å’Œæ€§èƒ½è°ƒä¼˜`,
                (task) => `å®Œæˆ${task}ç»„ä»¶ï¼Œé‡‡ç”¨å®¹å™¨åŒ–éƒ¨ç½²ï¼Œå®ç°æœåŠ¡å¼¹æ€§ä¼¸ç¼©ï¼Œé€šè¿‡å‹åŠ›æµ‹è¯•`,
                (task) => `æ„å»º${task}åŠŸèƒ½ï¼Œé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œå®ç°APIæ¥å£ï¼Œå®Œæˆæ¥å£æµ‹è¯•`,
                (task) => `å®ç°${task}æœåŠ¡ï¼Œè®¾è®¡åˆ†å¸ƒå¼æ¶æ„ï¼Œå®ç°æœåŠ¡æ²»ç†ï¼Œå®Œæˆæ€§èƒ½ä¼˜åŒ–`
            ],
            'ä¿®å¤': [
                (task) => `ä¿®å¤${task}é—®é¢˜ï¼Œåˆ†æé—®é¢˜æ ¹å› ï¼Œè®¾è®¡ä¿®å¤æ–¹æ¡ˆï¼Œç¼–å†™ä¿®å¤ä»£ç ï¼Œè¿›è¡Œå›å½’æµ‹è¯•`,
                (task) => `è§£å†³${task}ç¼ºé™·ï¼Œå®šä½é—®é¢˜ä»£ç ï¼Œé‡æ„ç›¸å…³æ¨¡å—ï¼Œä¼˜åŒ–é”™è¯¯å¤„ç†æœºåˆ¶`,
                (task) => `å¤„ç†${task}æ•…éšœï¼Œåˆ†æå¼‚å¸¸æ—¥å¿—ï¼Œä¼˜åŒ–ä»£ç é€»è¾‘ï¼Œå®Œå–„ç›‘æ§å‘Šè­¦`,
                (task) => `è§£å†³${task}æ¼æ´ï¼Œè¿›è¡Œå®‰å…¨å®¡è®¡ï¼Œä¼˜åŒ–ä»£ç å®ç°ï¼Œå®Œå–„å®‰å…¨æœºåˆ¶`,
                (task) => `ä¿®å¤${task}bugï¼Œåˆ†æå †æ ˆä¿¡æ¯ï¼Œä¼˜åŒ–ç®—æ³•é€»è¾‘ï¼Œæå‡ç³»ç»Ÿç¨³å®šæ€§`
            ],
            'éƒ¨ç½²': [
                (task) => `éƒ¨ç½²${task}ç¯å¢ƒï¼Œé…ç½®æœåŠ¡å™¨å‚æ•°ï¼Œå®‰è£…ä¾èµ–ç»„ä»¶ï¼ŒéªŒè¯æœåŠ¡å¯åŠ¨çŠ¶æ€`,
                (task) => `å®Œæˆ${task}å‘å¸ƒï¼Œä½¿ç”¨å®¹å™¨ç¼–æ’å·¥å…·ï¼Œé…ç½®ç½‘ç»œç­–ç•¥ï¼Œè®¾ç½®ç›‘æ§å‘Šè­¦`,
                (task) => `å‘å¸ƒ${task}ç‰ˆæœ¬ï¼Œåˆ¶å®šå‘å¸ƒè®¡åˆ’ï¼Œæ‰§è¡Œç°åº¦å‘å¸ƒï¼Œç›‘æ§å‘å¸ƒæ•ˆæœ`,
                (task) => `ä¸Šçº¿${task}åŠŸèƒ½ï¼Œè¿›è¡Œç”Ÿäº§éƒ¨ç½²ï¼ŒéªŒè¯æœåŠ¡å¯ç”¨æ€§ï¼Œç›‘æ§ç³»ç»Ÿè¿è¡Œ`,
                (task) => `å®æ–½${task}éƒ¨ç½²ï¼Œé…ç½®è´Ÿè½½å‡è¡¡ï¼Œè®¾ç½®æ•°æ®åº“é›†ç¾¤ï¼ŒéªŒè¯ç³»ç»Ÿæ€§èƒ½`
            ],
            'æµ‹è¯•': [
                (task) => `æµ‹è¯•${task}åŠŸèƒ½ï¼Œç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œæ‰§è¡ŒåŠŸèƒ½æµ‹è¯•ï¼Œè®°å½•æµ‹è¯•ç»“æœ`,
                (task) => `è¿›è¡Œ${task}æµ‹è¯•ï¼Œè®¾è®¡æµ‹è¯•åœºæ™¯ï¼Œæ‰§è¡Œå‹åŠ›æµ‹è¯•ï¼Œåˆ†ææµ‹è¯•æŠ¥å‘Š`,
                (task) => `å®Œæˆ${task}éªŒè¯ï¼Œæ‰§è¡Œé›†æˆæµ‹è¯•ï¼ŒéªŒè¯ç³»ç»ŸåŠŸèƒ½ï¼Œè¾“å‡ºæµ‹è¯•æŠ¥å‘Š`,
                (task) => `æ‰§è¡Œ${task}æµ‹è¯•ï¼Œè¿›è¡Œå…¼å®¹æ€§æµ‹è¯•ï¼ŒéªŒè¯ç”¨æˆ·ä½“éªŒï¼Œä¼˜åŒ–æµ‹è¯•æµç¨‹`,
                (task) => `å¼€å±•${task}æµ‹è¯•ï¼Œæ‰§è¡Œæ€§èƒ½æµ‹è¯•ï¼Œè¯„ä¼°ç³»ç»Ÿæ€§èƒ½ï¼Œä¼˜åŒ–ç³»ç»Ÿé…ç½®`
            ],
            'ä¼˜åŒ–': [
                (task) => `ä¼˜åŒ–${task}æ€§èƒ½ï¼Œåˆ†æç³»ç»Ÿç“¶é¢ˆï¼Œé‡æ„å…³é”®ä»£ç ï¼Œæå‡å“åº”é€Ÿåº¦`,
                (task) => `æ”¹è¿›${task}æ•ˆç‡ï¼Œä¼˜åŒ–ç®—æ³•é€»è¾‘ï¼Œå‡å°‘èµ„æºæ¶ˆè€—ï¼Œæå‡å¤„ç†èƒ½åŠ›`,
                (task) => `æå‡${task}è´¨é‡ï¼Œä¼˜åŒ–ä»£ç ç»“æ„ï¼Œæ”¹è¿›ç”¨æˆ·ä½“éªŒï¼Œå¢å¼ºç³»ç»Ÿç¨³å®šæ€§`,
                (task) => `ä¼˜åŒ–${task}æ¶æ„ï¼Œé‡æ„ç³»ç»Ÿè®¾è®¡ï¼Œæå‡æ‰©å±•æ€§ï¼Œæ”¹å–„ç³»ç»Ÿç»´æŠ¤æ€§`,
                (task) => `æ”¹è¿›${task}æµç¨‹ï¼Œä¼˜åŒ–æ“ä½œæ­¥éª¤ï¼Œæå‡å·¥ä½œæ•ˆç‡ï¼Œå‡å°‘äººå·¥æˆæœ¬`
            ],
            
            // äº§å“ç»ç†ä¸“å± - å¢åŠ åˆ°5ä¸ª
            'æ’°å†™': [
                (task) => `æ’°å†™${task}æ–‡æ¡£ï¼Œè¯¦ç»†æè¿°åŠŸèƒ½éœ€æ±‚ï¼Œæ˜ç¡®éªŒæ”¶æ ‡å‡†ï¼Œæ•´ç†æŠ€æœ¯çº¦æŸ`,
                (task) => `ç¼–å†™${task}ææ–™ï¼Œæ•´ç†äº§å“èƒŒæ™¯å’Œç›®æ ‡ï¼Œåˆ†æç”¨æˆ·éœ€æ±‚ï¼Œåˆ¶å®šäº§å“ç­–ç•¥`,
                (task) => `å®Œæˆ${task}æŠ¥å‘Šï¼Œæ€»ç»“äº§å“è¿›å±•ï¼Œåˆ†æç”¨æˆ·åé¦ˆï¼Œè§„åˆ’ä¸‹ä¸€æ­¥å·¥ä½œ`,
                (task) => `åˆ¶ä½œ${task}æ–‡æ¡£ï¼Œæ•´ç†éœ€æ±‚è¯¦æƒ…ï¼Œæ˜ç¡®åŠŸèƒ½è§„æ ¼ï¼Œè¾“å‡ºäº§å“è§„èŒƒ`,
                (task) => `ç¼–å†™${task}è¯´æ˜ï¼Œæè¿°åŠŸèƒ½ç»†èŠ‚ï¼Œæ˜ç¡®ä½¿ç”¨æµç¨‹ï¼Œè¾“å‡ºä½¿ç”¨æŒ‡å—`
            ],
            'æ²Ÿé€š': [
                (task) => `æ²Ÿé€š${task}éœ€æ±‚ï¼Œæ˜ç¡®ä¸šåŠ¡åœºæ™¯ï¼Œå¯¹é½äº§å“æ„¿æ™¯ï¼Œå»ºç«‹å›¢é˜Ÿå…±è¯†`,
                (task) => `åå•†${task}ç»†èŠ‚ï¼Œæ˜ç¡®åŠŸèƒ½è¦æ±‚ï¼Œå•†è®¨å®ç°æ–¹æ¡ˆï¼Œè¾¾æˆå¼€å‘å…±è¯†`,
                (task) => `äº¤æµ${task}æƒ³æ³•ï¼Œæ”¶é›†å„æ–¹æ„è§ï¼Œåè°ƒèµ„æºéœ€æ±‚ï¼Œæ¨åŠ¨é¡¹ç›®è¿›å±•`,
                (task) => `è®¨è®º${task}æ–¹æ¡ˆï¼Œåˆ†æå¯è¡Œæ€§ï¼Œåè°ƒæ—¶é—´å®‰æ’ï¼Œç¡®å®šå®æ–½è®¡åˆ’`,
                (task) => `æ´½è°ˆ${task}åˆä½œï¼Œæ˜ç¡®åˆä½œç›®æ ‡ï¼Œå•†è®¨åˆä½œæ¡ä»¶ï¼Œå»ºç«‹åˆä½œå…³ç³»`
            ],
            'è·Ÿè¿›': [
                (task) => `è·Ÿè¿›${task}è¿›åº¦ï¼Œåè°ƒå¼€å‘èµ„æºï¼Œè§£å†³æŠ€æœ¯éšœç¢ï¼Œç¡®ä¿é¡¹ç›®æŒ‰æ—¶æ¨è¿›`,
                (task) => `è·Ÿè¸ª${task}è¿›å±•ï¼Œç›‘æ§å¼€å‘çŠ¶æ€ï¼ŒåŠæ—¶å‘ç°é—®é¢˜ï¼Œåè°ƒè§£å†³æ–¹æ¡ˆ`,
                (task) => `ç›‘ç£${task}æ‰§è¡Œï¼Œç¡®ä¿æŒ‰è®¡åˆ’è¿›è¡Œï¼Œåè°ƒå›¢é˜Ÿåä½œï¼Œæ¨åŠ¨é¡¹ç›®å®Œæˆ`,
                (task) => `ç®¡ç†${task}è¿‡ç¨‹ï¼Œç›‘æ§å…³é”®èŠ‚ç‚¹ï¼Œåè°ƒèµ„æºåˆ†é…ï¼Œç¡®ä¿é¡¹ç›®è´¨é‡`,
                (task) => `æ¨åŠ¨${task}è¿›è¡Œï¼Œè·Ÿè¸ªé—®é¢˜è§£å†³ï¼Œåè°ƒå„æ–¹èµ„æºï¼Œç¡®ä¿é¡¹ç›®æˆåŠŸ`
            ],
            
            // å¸‚åœºè¿è¥ä¸“å± - å¢åŠ åˆ°6-8ä¸ª
            'ç­–åˆ’': [
                (task) => `ç­–åˆ’${task}æ´»åŠ¨ï¼Œè®¾è®¡åˆ›æ„ä¸»é¢˜ï¼Œåˆ¶å®šæ‰§è¡Œæ–¹æ¡ˆï¼Œè§„åˆ’æ¨å¹¿æ¸ é“`,
                (task) => `åˆ¶å®š${task}ç­–ç•¥ï¼Œåˆ†æç›®æ ‡äººç¾¤ï¼Œè®¾è®¡äº’åŠ¨ç¯èŠ‚ï¼Œå‡†å¤‡å®£ä¼ ç´ æ`,
                (task) => `è§„åˆ’${task}æ–¹æ¡ˆï¼Œç¡®å®šæ´»åŠ¨æµç¨‹ï¼Œè®¾è®¡ç”¨æˆ·ä½“éªŒï¼Œåˆ¶å®šåº”æ€¥é¢„æ¡ˆ`,
                (task) => `æ„æ€${task}åˆ›æ„ï¼ŒæŒ–æ˜ç”¨æˆ·ç—›ç‚¹ï¼Œè®¾è®¡è§£å†³æ–¹æ¡ˆï¼Œåˆ¶å®šè¥é”€ç­–ç•¥`,
                (task) => `è®¾è®¡${task}è®¡åˆ’ï¼Œæ˜ç¡®æ´»åŠ¨ç›®æ ‡ï¼Œè§„åˆ’æ‰§è¡Œæ­¥éª¤ï¼Œå‡†å¤‡å®æ–½èµ„æº`,
                (task) => `åˆ¶å®š${task}æ–¹æ¡ˆï¼Œåˆ†æå¸‚åœºæœºä¼šï¼Œè®¾è®¡æ´»åŠ¨å½¢å¼ï¼Œè§„åˆ’é¢„ç®—åˆ†é…`,
                (task) => `ç­–åˆ’${task}é¡¹ç›®ï¼Œè®¾è®¡æ´»åŠ¨æ¦‚å¿µï¼Œåˆ¶å®šæ—¶é—´å®‰æ’ï¼Œè§„åˆ’å›¢é˜Ÿåˆ†å·¥`,
                (task) => `åˆ¶å®š${task}è®¡åˆ’ï¼Œæ˜ç¡®KPIæŒ‡æ ‡ï¼Œè®¾è®¡æ‰§è¡Œè·¯å¾„ï¼Œè§„åˆ’æ•ˆæœè¯„ä¼°`
            ],
            'æ‰§è¡Œ': [
                (task) => `æ‰§è¡Œ${task}è®¡åˆ’ï¼Œåè°ƒå„æ–¹èµ„æºï¼Œç›‘æ§æ‰§è¡Œè¿›åº¦ï¼Œä¼˜åŒ–æŠ•æ”¾ç­–ç•¥`,
                (task) => `å®æ–½${task}æ–¹æ¡ˆï¼Œç®¡ç†å®£ä¼ æ¸ é“ï¼Œè·Ÿè¸ªæ‰§è¡Œæ•ˆæœï¼Œè°ƒæ•´æ¨å¹¿å†…å®¹`,
                (task) => `å¼€å±•${task}æ´»åŠ¨ï¼Œç»„ç»‡å›¢é˜Ÿåä½œï¼Œç›‘æ§ç°åœºæƒ…å†µï¼Œç¡®ä¿æ´»åŠ¨é¡ºåˆ©è¿›è¡Œ`,
                (task) => `æ¨è¿›${task}å·¥ä½œï¼Œåè°ƒä¾›åº”å•†èµ„æºï¼Œç›‘æ§æ‰§è¡Œè´¨é‡ï¼Œä¼˜åŒ–æ´»åŠ¨æ•ˆæœ`,
                (task) => `å®æ–½${task}é¡¹ç›®ï¼Œç®¡ç†æ‰§è¡Œå›¢é˜Ÿï¼Œç›‘æ§æ´»åŠ¨è¿›å±•ï¼ŒåŠæ—¶è°ƒæ•´ç­–ç•¥`,
                (task) => `æ‰§è¡Œ${task}ä»»åŠ¡ï¼Œåè°ƒåˆä½œä¼™ä¼´ï¼Œç›‘æ§æ‰§è¡Œè¿‡ç¨‹ï¼Œç¡®ä¿è¾¾åˆ°ç›®æ ‡`,
                (task) => `æ¨è¿›${task}æ´»åŠ¨ï¼Œç®¡ç†æ´»åŠ¨æµç¨‹ï¼Œç›‘æ§æ‰§è¡Œç»†èŠ‚ï¼Œä¼˜åŒ–æ´»åŠ¨ä½“éªŒ`,
                (task) => `å®æ–½${task}æ¨å¹¿ï¼Œç®¡ç†å¹¿å‘ŠæŠ•æ”¾ï¼Œç›‘æ§è½¬åŒ–æ•ˆæœï¼Œä¼˜åŒ–æŠ•æ”¾ç­–ç•¥`
            ],
            'æ¨å¹¿': [
                (task) => `æ¨å¹¿${task}æ´»åŠ¨ï¼Œåˆ¶å®šä¼ æ’­ç­–ç•¥ï¼Œé€‰æ‹©æ¨å¹¿æ¸ é“ï¼Œç›‘æ§æ¨å¹¿æ•ˆæœ`,
                (task) => `å®£ä¼ ${task}å†…å®¹ï¼Œè®¾è®¡ä¼ æ’­è¯é¢˜ï¼Œå‡†å¤‡å®£ä¼ ç´ æï¼Œæ‰©å¤§å“ç‰Œå½±å“`,
                (task) => `è¥é”€${task}äº§å“ï¼Œåˆ¶å®šé”€å”®ç­–ç•¥ï¼Œé€‰æ‹©è¥é”€æ¸ é“ï¼Œæå‡é”€å”®ä¸šç»©`,
                (task) => `ä¼ æ’­${task}ä¿¡æ¯ï¼Œç­–åˆ’åª’ä½“åˆä½œï¼Œåˆ¶ä½œå®£ä¼ å†…å®¹ï¼Œæå‡å“ç‰ŒçŸ¥ååº¦`,
                (task) => `æ¨å¹¿${task}å“ç‰Œï¼Œåˆ¶å®šå“ç‰Œç­–ç•¥ï¼Œé€‰æ‹©ä¼ æ’­åª’ä»‹ï¼Œæå‡å“ç‰Œè®¤çŸ¥`,
                (task) => `å®£ä¼ ${task}äº‹ä»¶ï¼Œç­–åˆ’åª’ä½“æŠ¥é“ï¼Œå‡†å¤‡æ–°é—»ç¨¿ï¼Œæ‰©å¤§äº‹ä»¶å½±å“`,
                (task) => `æ¨å¹¿${task}æœåŠ¡ï¼Œåˆ¶å®šè·å®¢ç­–ç•¥ï¼Œé€‰æ‹©æ¨å¹¿æ–¹å¼ï¼Œæå‡ç”¨æˆ·å¢é•¿`,
                (task) => `è¥é”€${task}æ–¹æ¡ˆï¼Œåˆ¶å®šé”€å”®è®¡åˆ’ï¼Œé€‰æ‹©é”€å”®æ¸ é“ï¼Œæå‡é”€å”®è½¬åŒ–`
            ],
            'åˆ†æ': [
                (task) => `åˆ†æ${task}æ•°æ®ï¼ŒæŒ–æ˜ç”¨æˆ·è¡Œä¸ºï¼Œè¯„ä¼°æŠ•æ”¾æ•ˆæœï¼Œä¼˜åŒ–è¥é”€ç­–ç•¥`,
                (task) => `ç ”ç©¶${task}è¶‹åŠ¿ï¼Œåˆ†æå¸‚åœºå˜åŒ–ï¼Œè¯„ä¼°ç«äº‰æ€åŠ¿ï¼Œåˆ¶å®šåº”å¯¹ç­–ç•¥`,
                (task) => `è¯„ä¼°${task}æ•ˆæœï¼Œåˆ†æè½¬åŒ–æ•°æ®ï¼Œè®¡ç®—ROIè¡¨ç°ï¼Œæ€»ç»“æ´»åŠ¨ç»éªŒ`,
                (task) => `ç ”ç©¶${task}è¡¨ç°ï¼Œåˆ†æç”¨æˆ·åé¦ˆï¼Œè¯„ä¼°å“ç‰Œå½±å“ï¼Œä¼˜åŒ–åç»­è®¡åˆ’`,
                (task) => `åˆ†æ${task}ç»“æœï¼Œæ”¶é›†æ•°æ®æŒ‡æ ‡ï¼Œè¯„ä¼°æ´»åŠ¨æ•ˆæœï¼Œåˆ¶å®šä¼˜åŒ–æ–¹æ¡ˆ`,
                (task) => `ç ”ç©¶${task}æ•°æ®ï¼Œåˆ†æç”¨æˆ·ç”»åƒï¼Œè¯„ä¼°å¸‚åœºååº”ï¼Œä¼˜åŒ–è¥é”€ç­–ç•¥`,
                (task) => `è¯„ä¼°${task}ç»©æ•ˆï¼Œåˆ†æKPIè¾¾æˆï¼Œæ€»ç»“ç»éªŒæ•™è®­ï¼Œä¼˜åŒ–åç»­ç­–ç•¥`,
                (task) => `åˆ†æ${task}è¡¨ç°ï¼Œç ”ç©¶ç”¨æˆ·è¡Œä¸ºï¼Œè¯„ä¼°å¸‚åœºæœºä¼šï¼Œåˆ¶å®šå¢é•¿ç­–ç•¥`
            ],
            'ç›‘æ§': [
                (task) => `ç›‘æ§${task}æ•ˆæœï¼Œè·Ÿè¸ªæŠ•æ”¾æ•°æ®ï¼Œåˆ†æç”¨æˆ·åé¦ˆï¼Œä¼˜åŒ–å®£ä¼ ç­–ç•¥`,
                (task) => `è·Ÿè¸ª${task}è¿›å±•ï¼Œæ”¶é›†æ‰§è¡Œæ•°æ®ï¼Œè¯„ä¼°æ´»åŠ¨æ•ˆæœï¼Œè°ƒæ•´æ‰§è¡Œæ–¹æ¡ˆ`,
                (task) => `è§‚å¯Ÿ${task}è¡¨ç°ï¼Œåˆ†æå¸‚åœºååº”ï¼Œè¯„ä¼°å“ç‰Œå½±å“ï¼Œä¼˜åŒ–åç»­è®¡åˆ’`,
                (task) => `ç›‘æµ‹${task}æ•°æ®ï¼Œè·Ÿè¸ªå…³é”®æŒ‡æ ‡ï¼Œåˆ†æå˜åŒ–è¶‹åŠ¿ï¼ŒåŠæ—¶è°ƒæ•´ç­–ç•¥`,
                (task) => `ç›‘æ§${task}è¿›å±•ï¼Œæ”¶é›†åé¦ˆä¿¡æ¯ï¼Œè¯„ä¼°æ‰§è¡Œæ•ˆæœï¼Œä¼˜åŒ–æ´»åŠ¨æ–¹æ¡ˆ`,
                (task) => `è·Ÿè¸ª${task}æ•ˆæœï¼Œç›‘æµ‹æ•°æ®å˜åŒ–ï¼Œåˆ†æç”¨æˆ·è¡Œä¸ºï¼Œä¼˜åŒ–æ¨å¹¿ç­–ç•¥`
            ],
            'åˆ¶ä½œ': [
                (task) => `åˆ¶ä½œ${task}ç´ æï¼Œè®¾è®¡è§†è§‰å…ƒç´ ï¼Œå‡†å¤‡å®£ä¼ å†…å®¹ï¼Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒ`,
                (task) => `åˆ›ä½œ${task}å†…å®¹ï¼Œç»“åˆå“ç‰Œè°ƒæ€§ï¼Œè®¾è®¡ä¼ æ’­è¯­è¨€ï¼Œå‡†å¤‡å¤šæ¸ é“ç´ æ`,
                (task) => `å‡†å¤‡${task}ç‰©æ–™ï¼Œè®¾è®¡å®£ä¼ å½¢å¼ï¼Œå‡†å¤‡æ¨å¹¿å†…å®¹ï¼Œä¼˜åŒ–æŠ•æ”¾æ•ˆæœ`,
                (task) => `è®¾è®¡${task}è§†è§‰ï¼Œåˆ¶ä½œå®£ä¼ ææ–™ï¼Œå‡†å¤‡æ´»åŠ¨ç‰©æ–™ï¼Œä¼˜åŒ–å“ç‰Œå±•ç¤º`,
                (task) => `åˆ¶ä½œ${task}èµ„æ–™ï¼Œå‡†å¤‡å®£ä¼ å·¥å…·ï¼Œè®¾è®¡è§†è§‰é£æ ¼ï¼Œä¼˜åŒ–ä¿¡æ¯ä¼ è¾¾`,
                (task) => `åˆ›ä½œ${task}æ–‡æ¡ˆï¼Œæ’°å†™å®£ä¼ å†…å®¹ï¼Œè®¾è®¡ä¼ æ’­è§’åº¦ï¼Œä¼˜åŒ–ä¼ æ’­æ•ˆæœ`
            ],
            'æ´½è°ˆ': [
                (task) => `æ´½è°ˆ${task}åˆä½œï¼Œæ˜ç¡®åˆä½œæ„å‘ï¼Œå•†è®¨åˆä½œç»†èŠ‚ï¼Œç­¾è®¢åˆä½œåè®®`,
                (task) => `æ²Ÿé€š${task}äº‹å®œï¼Œæ˜ç¡®åˆä½œéœ€æ±‚ï¼Œå•†è®¨åˆä½œæ–¹æ¡ˆï¼Œè¾¾æˆåˆä½œå…±è¯†`,
                (task) => `åå•†${task}å†…å®¹ï¼Œæ˜ç¡®åˆä½œç›®æ ‡ï¼Œå•†è®¨åˆä½œæ¡ä»¶ï¼Œå»ºç«‹åˆä½œå…³ç³»`,
                (task) => `è®¨è®º${task}åˆä½œï¼Œåˆ†æåˆä½œä»·å€¼ï¼Œå•†è®¨åˆä½œæ¨¡å¼ï¼Œç¡®å®šåˆä½œæ¡†æ¶`,
                (task) => `æ´½è°ˆ${task}äº‹å®œï¼Œæ˜ç¡®åˆä½œæ–¹å‘ï¼Œå•†è®¨åˆä½œç»†èŠ‚ï¼Œæ¨è¿›åˆä½œè¿›ç¨‹`
            ],
            'ç»´æŠ¤': [
                (task) => `ç»´æŠ¤${task}å…³ç³»ï¼ŒåŠ å¼ºæ²Ÿé€šè”ç³»ï¼Œè§£å†³åˆä½œé—®é¢˜ï¼Œæ·±åŒ–åˆä½œå…³ç³»`,
                (task) => `ç®¡ç†${task}æ¸ é“ï¼Œç»´æŠ¤æ¸ é“å…³ç³»ï¼Œä¼˜åŒ–åˆä½œæ¨¡å¼ï¼Œæå‡åˆä½œæ•ˆæœ`,
                (task) => `ç»´æŠ¤${task}å®¢æˆ·ï¼Œæä¾›å®¢æˆ·æ”¯æŒï¼Œæ”¶é›†å®¢æˆ·åé¦ˆï¼Œæå‡å®¢æˆ·æ»¡æ„åº¦`,
                (task) => `ç®¡ç†${task}ä¼™ä¼´ï¼Œç»´æŠ¤ä¼™ä¼´å…³ç³»ï¼Œåè°ƒåˆä½œèµ„æºï¼Œæå‡åˆä½œä»·å€¼`,
                (task) => `ç»´æŠ¤${task}èµ„æºï¼Œç®¡ç†åˆä½œå…³ç³»ï¼Œä¼˜åŒ–èµ„æºåˆ©ç”¨ï¼Œæå‡èµ„æºä»·å€¼`
            ],
            'å‚åŠ ': [
                (task, career) => career === 'market'
                    ? `å‚åŠ ${task}ä¼šè®®ï¼Œæ˜ç¡®æ´»åŠ¨ç›®æ ‡ï¼Œç¡®è®¤æ‰§è¡Œç»†èŠ‚ï¼Œåˆ†é…å®£ä¼ ä»»åŠ¡`
                    : `å‚åŠ ${task}ä¼šè®®ï¼Œæ˜ç¡®éœ€æ±‚ç»†èŠ‚ï¼Œç¡®è®¤æŠ€æœ¯æ–¹æ¡ˆï¼Œåˆ†é…å¼€å‘ä»»åŠ¡`,
                (task, career) => career === 'market'
                    ? `å‚ä¸${task}æ´»åŠ¨ï¼Œå­¦ä¹ è¡Œä¸šç»éªŒï¼Œäº¤æµå¸‚åœºä¿¡æ¯ï¼Œæ‹“å±•åˆä½œèµ„æº`
                    : `å‚ä¸${task}è®¨è®ºï¼Œäº¤æµæŠ€æœ¯æ–¹æ¡ˆï¼Œåˆ†äº«é¡¹ç›®ç»éªŒï¼Œåè°ƒå¼€å‘å·¥ä½œ`,
                (task, career) => career === 'market'
                    ? `å‡ºå¸­${task}ä¼šè®®ï¼Œæ±‡æŠ¥å·¥ä½œè¿›å±•ï¼Œåè°ƒèµ„æºéœ€æ±‚ï¼Œæ¨åŠ¨é¡¹ç›®æ‰§è¡Œ`
                    : `å‡ºå¸­${task}è¯„å®¡ï¼Œæ±‡æŠ¥é¡¹ç›®è¿›å±•ï¼Œåè°ƒæŠ€æœ¯æ–¹æ¡ˆï¼Œæ¨åŠ¨é¡¹ç›®è¿›è¡Œ`
            ]
        };
        
        // ==================== ä¿®å¤ï¼šè¯æœ¯è½®æ¢å‡½æ•° ====================
        function expandTask(task, career, mode, projectName, taskIndex) {
            generationCount++;
            const taskLower = task.toLowerCase();
            
            // ç‰¹åˆ«å¤„ç†å¸‚åœºè¿è¥å…³é”®è¯
            const marketKeywords = ['ç­–åˆ’', 'æ‰§è¡Œ', 'æ¨å¹¿', 'åˆ†æ', 'ç›‘æ§', 'åˆ¶ä½œ', 'æ´½è°ˆ', 'ç»´æŠ¤', 'å‚åŠ ', 'è·Ÿè¿›'];
            const productKeywords = ['æ’°å†™', 'æ²Ÿé€š', 'æ¢³ç†', 'ç ”ç©¶', 'è®¾è®¡', 'è·Ÿè¿›', 'å‚åŠ '];
            const itKeywords = ['å¼€å‘', 'ä¿®å¤', 'éƒ¨ç½²', 'æµ‹è¯•', 'ä¼˜åŒ–'];
            
            // æŒ‰èŒä¸šä¼˜å…ˆçº§åŒ¹é…å…³é”®è¯
            let keywords = [];
            if (career === 'market') {
                keywords = [...marketKeywords, ...productKeywords, ...itKeywords];
            } else if (career === 'product') {
                keywords = [...productKeywords, ...marketKeywords, ...itKeywords];
            } else {
                keywords = [...itKeywords, ...productKeywords, ...marketKeywords];
            }
            
            // æŒ‰é•¿åº¦æ’åº
            keywords.sort((a, b) => b.length - a.length);
            
            // æŸ¥æ‰¾åŒ¹é…çš„å…³é”®è¯
            for (const keyword of keywords) {
                if (taskLower.includes(keyword.toLowerCase())) {
                    const templates = taskTemplates[keyword];
                    if (templates && templates.length > 0) {
                        // ä½¿ç”¨ç”Ÿæˆè®¡æ•°ç¡®ä¿è¯æœ¯è½®æ¢ - å¢å¼ºéšæœºæ€§
                        const uniqueKey = `${career}_${task}_${taskIndex}_${generationCount}_${Date.now()}`;
                        const hash = Array.from(uniqueKey).reduce((acc, char) => acc + char.charCodeAt(0), 0);
                        const templateIndex = (hash + generationCount) % templates.length;
                        
                        // è·å–ä»»åŠ¡å†…å®¹
                        const keywordIndex = taskLower.indexOf(keyword.toLowerCase());
                        let content = task.substring(keywordIndex + keyword.length).trim();
                        
                        if (!content) {
                            content = task;
                        }
                        
                        // è°ƒç”¨æ¨¡æ¿
                        return templates[templateIndex](content, career);
                    }
                }
            }
            
            // é»˜è®¤æè¿° - å¢å¼ºéšæœºæ€§
            const defaultDescs = {
                it: [
                    `${task}ï¼Œæ¨è¿›å¼€å‘å·¥ä½œï¼Œä¼˜åŒ–ä»£ç è´¨é‡ï¼Œç¡®ä¿åŠŸèƒ½å®ç°`,
                    `${task}ï¼Œå®Œæˆå¼€å‘ä»»åŠ¡ï¼Œæµ‹è¯•åŠŸèƒ½å¯ç”¨æ€§ï¼Œä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½`,
                    `${task}ï¼Œå®ç°æŠ€æœ¯æ–¹æ¡ˆï¼ŒéªŒè¯åŠŸèƒ½æ•ˆæœï¼Œå‡†å¤‡ä¸Šçº¿éƒ¨ç½²`,
                    `${task}ï¼Œæ¨è¿›é¡¹ç›®å¼€å‘ï¼Œè§£å†³æŠ€æœ¯é—®é¢˜ï¼Œç¡®ä¿æŒ‰æ—¶äº¤ä»˜`
                ],
                product: [
                    `${task}ï¼Œæ¨è¿›äº§å“å·¥ä½œï¼Œæ˜ç¡®éœ€æ±‚ç»†èŠ‚ï¼Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒ`,
                    `${task}ï¼Œå®Œæˆäº§å“è®¾è®¡ï¼Œåè°ƒå¼€å‘èµ„æºï¼Œè·Ÿè¿›é¡¹ç›®è¿›åº¦`,
                    `${task}ï¼Œæ¨è¿›äº§å“è¿­ä»£ï¼Œæ”¶é›†ç”¨æˆ·åé¦ˆï¼Œä¼˜åŒ–äº§å“åŠŸèƒ½`,
                    `${task}ï¼Œç®¡ç†äº§å“éœ€æ±‚ï¼Œåè°ƒå›¢é˜Ÿåä½œï¼Œç¡®ä¿é¡¹ç›®æˆåŠŸ`
                ],
                market: [
                    `${task}ï¼Œæ¨è¿›è¥é”€å·¥ä½œï¼Œåˆ¶å®šæ‰§è¡Œè®¡åˆ’ï¼Œç›‘æ§æ´»åŠ¨æ•ˆæœ`,
                    `${task}ï¼Œå®Œæˆå¸‚åœºæ´»åŠ¨ï¼Œåˆ†ææ‰§è¡Œæ•ˆæœï¼Œä¼˜åŒ–æ¨å¹¿ç­–ç•¥`,
                    `${task}ï¼Œæ¨è¿›å“ç‰Œä¼ æ’­ï¼Œç›‘æ§å¸‚åœºååº”ï¼Œæå‡å“ç‰Œå½±å“`,
                    `${task}ï¼Œæ‰§è¡Œè¥é”€è®¡åˆ’ï¼Œè·Ÿè¸ªæ¨å¹¿æ•ˆæœï¼Œä¼˜åŒ–æŠ•æ”¾ç­–ç•¥`
                ]
            };
            
            const descs = defaultDescs[career] || [`${task}ï¼Œå®Œæˆç›¸å…³å·¥ä½œï¼Œæ¨è¿›é¡¹ç›®è¿›å±•`];
            const descIndex = (generationCount + taskIndex) % descs.length;
            return descs[descIndex];
        }
        
        // ==================== é¡¹ç›®è§£æå‡½æ•° ====================
        function parseContent(input) {
            const projects = [];
            const lines = input.split('\n');
            
            let currentProject = null;
            let currentTasks = [];
            let foundProjectName = false;
            let inTasks = false;
            let hasTasksSection = false;
            
            for (let i = 0; i < lines.length; i++) {
                let line = lines[i].trim();
                
                if (line === '') {
                    if (currentProject && foundProjectName && (inTasks || hasTasksSection)) {
                        let nextLine = '';
                        for (let j = i + 1; j < lines.length; j++) {
                            nextLine = lines[j].trim();
                            if (nextLine !== '') break;
                        }
                        
                        if (nextLine.startsWith('é¡¹ç›®åç§°') || 
                            nextLine.startsWith('äº§å‡ºç‰©') || 
                            nextLine.startsWith('é£é™©') ||
                            nextLine.startsWith('ä¼šè®®ç»“è®º') ||
                            /\d+\.\d+/.test(nextLine) || 
                            nextLine.includes('ä¸Šçº¿')) {
                            
                            projects.push({
                                name: currentProject.name,
                                timeInfo: currentProject.timeInfo || '',
                                tasks: [...currentTasks],
                                outputs: currentProject.outputs || '',
                                risks: currentProject.risks || '',
                                meetingConclusion: currentProject.meetingConclusion || ''
                            });
                            
                            currentProject = null;
                            currentTasks = [];
                            foundProjectName = false;
                            inTasks = false;
                            hasTasksSection = false;
                        }
                    }
                    continue;
                }
                
                if (line.startsWith('é¡¹ç›®åç§°ï¼š') || line.startsWith('é¡¹ç›®åç§°:') || 
                    line.startsWith('é¡¹ç›®åç§°ï¼›') || line.startsWith('é¡¹ç›®åç§°')) {
                    
                    if (currentProject && foundProjectName) {
                        projects.push({
                            name: currentProject.name,
                            timeInfo: currentProject.timeInfo || '',
                            tasks: [...currentTasks],
                            outputs: currentProject.outputs || '',
                            risks: currentProject.risks || '',
                            meetingConclusion: currentProject.meetingConclusion || ''
                        });
                    }
                    
                    let projectName = line;
                    const prefixes = ['é¡¹ç›®åç§°ï¼š', 'é¡¹ç›®åç§°:', 'é¡¹ç›®åç§°ï¼›', 'é¡¹ç›®åç§°'];
                    
                    for (const prefix of prefixes) {
                        if (projectName.startsWith(prefix)) {
                            projectName = projectName.substring(prefix.length).trim();
                            break;
                        }
                    }
                    
                    currentProject = {
                        name: projectName || 'æœªå‘½åé¡¹ç›®',
                        timeInfo: '',
                        outputs: '',
                        risks: '',
                        meetingConclusion: ''
                    };
                    currentTasks = [];
                    inTasks = false;
                    foundProjectName = true;
                    hasTasksSection = false;
                    continue;
                }
                
                if (line === 'å·¥ä½œä»»åŠ¡ï¼š' || line === 'å·¥ä½œä»»åŠ¡' || line === 'å·¥ä½œä»»åŠ¡:' || line === 'å·¥ä½œä»»åŠ¡ï¼›') {
                    inTasks = true;
                    hasTasksSection = true;
                    continue;
                }
                
                if (/\d+\.\d+/.test(line) || line.includes('ä¸Šçº¿') || line.includes('é¢„è®¡')) {
                    if (currentProject) {
                        currentProject.timeInfo = line;
                    }
                    continue;
                }
                
                if (line.startsWith('äº§å‡ºç‰©ï¼š') || line.startsWith('äº§å‡ºç‰©:')) {
                    if (currentProject) {
                        currentProject.outputs = line.replace('äº§å‡ºç‰©ï¼š', '').replace('äº§å‡ºç‰©:', '').trim();
                    }
                    continue;
                }
                
                if (line.startsWith('é£é™©ï¼š') || line.startsWith('é£é™©:')) {
                    if (currentProject) {
                        currentProject.risks = line.replace('é£é™©ï¼š', '').replace('é£é™©:', '').trim();
                    }
                    continue;
                }
                
                if (line.startsWith('ä¼šè®®ç»“è®ºï¼š') || line.startsWith('ä¼šè®®ç»“è®º:')) {
                    if (currentProject) {
                        currentProject.meetingConclusion = line.replace('ä¼šè®®ç»“è®ºï¼š', '').replace('ä¼šè®®ç»“è®º:', '').trim();
                    }
                    continue;
                }
                
                if (currentProject && foundProjectName) {
                    if (inTasks || (foundProjectName && hasTasksSection && !inTasks)) {
                        if (!line.includes('ï¼š') && !line.includes(':') && 
                            !line.includes('ï¼›') && !line.includes(';') &&
                            !line.startsWith('äº§å‡ºç‰©') && !line.startsWith('é£é™©') &&
                            !line.startsWith('ä¼šè®®ç»“è®º')) {
                            
                            if (!inTasks) {
                                inTasks = true;
                            }
                            
                            // ä¿®å¤ï¼šäº§å“ç»ç†çš„"è·Ÿè¿›å¼€å‘è¿›åº¦"ä¸åº”è¯¥è¯†åˆ«ä¸º"å¼€å‘"å…³é”®è¯
                            if (line.includes('è·Ÿè¿›å¼€å‘è¿›åº¦')) {
                                currentTasks.push('è·Ÿè¿›å¼€å‘è¿›åº¦');
                            } else {
                                currentTasks.push(line);
                            }
                        }
                    }
                }
            }
            
            if (currentProject && foundProjectName) {
                projects.push({
                    name: currentProject.name,
                    timeInfo: currentProject.timeInfo || '',
                    tasks: [...currentTasks],
                    outputs: currentProject.outputs || '',
                    risks: currentProject.risks || '',
                    meetingConclusion: currentProject.meetingConclusion || ''
                });
            }
            
            return projects;
        }
        
        // ==================== æ™ºèƒ½è¿›åº¦åˆ¤æ–­ ====================
        function analyzeProgress(project, tasks, career) {
            const allText = tasks.join(' ') + ' ' + project.timeInfo;
            const textLower = allText.toLowerCase();
            
            const completedKeywords = ['å·²å®Œæˆ', 'å®Œæˆ', 'å·²ä¸Šçº¿', 'å·²äº¤ä»˜', 'å·²ç»“æŸ', 'å®Œç»“'];
            const isCompleted = completedKeywords.some(keyword => textLower.includes(keyword));
            
            let stage = '';
            if (career === 'it') {
                if (textLower.includes('è®¾è®¡') || textLower.includes('æ¶æ„')) {
                    stage = 'è®¾è®¡é˜¶æ®µ';
                } else if (textLower.includes('æµ‹è¯•') || textLower.includes('è°ƒè¯•')) {
                    stage = 'æµ‹è¯•é˜¶æ®µ';
                } else {
                    stage = 'å¼€å‘é˜¶æ®µ';
                }
            } else if (career === 'product') {
                if (textLower.includes('è®¾è®¡') || textLower.includes('åŸå‹') || textLower.includes('prd')) {
                    stage = 'è®¾è®¡é˜¶æ®µ';
                } else if (textLower.includes('è¯„å®¡') || textLower.includes('æ²Ÿé€š')) {
                    stage = 'è¯„å®¡é˜¶æ®µ';
                } else if (textLower.includes('è·Ÿè¿›') || textLower.includes('éªŒæ”¶')) {
                    stage = 'è·Ÿè¿›é˜¶æ®µ';
                } else {
                    stage = 'è®¾è®¡é˜¶æ®µ';
                }
            } else if (career === 'market') {
                if (textLower.includes('ç­–åˆ’') || textLower.includes('æ–¹æ¡ˆ')) {
                    stage = 'ç­–åˆ’é˜¶æ®µ';
                } else if (textLower.includes('æ‰§è¡Œ') || textLower.includes('æ¨å¹¿')) {
                    stage = 'æ‰§è¡Œé˜¶æ®µ';
                } else if (textLower.includes('åˆ†æ') || textLower.includes('æŠ¥å‘Š')) {
                    stage = 'åˆ†æé˜¶æ®µ';
                } else {
                    stage = 'æ‰§è¡Œé˜¶æ®µ';
                }
            }
            
            return { isCompleted, stage };
        }
        
        // ==================== ç”Ÿæˆä¸‹å‘¨è®¡åˆ’ ====================
        function generateNextWeekPlan(project, tasks, career, progressInfo) {
            const { isCompleted, stage } = progressInfo;
            
            if (isCompleted) {
                switch(career) {
                    case 'it': return 'å®Œæˆé¡¹ç›®æ”¶å°¾å·¥ä½œï¼Œæ•´ç†æŠ€æœ¯æ–‡æ¡£ï¼Œè¿›è¡Œé¡¹ç›®å¤ç›˜';
                    case 'product': return 'è·Ÿè¿›äº§å“ä½¿ç”¨åé¦ˆé—®é¢˜ï¼Œæ”¶é›†ç”¨æˆ·å»ºè®®ï¼Œè§„åˆ’ä¸‹ä¸€ç‰ˆæœ¬åŠŸèƒ½';
                    case 'market': return 'è·Ÿè¿›æ´»åŠ¨æ•ˆæœä¸é—®é¢˜ï¼Œåˆ†ææ´»åŠ¨æ•°æ®ï¼Œå‡†å¤‡æ€»ç»“æŠ¥å‘Š';
                    default: return 'è·Ÿè¿›åç»­å·¥ä½œï¼Œæ”¶é›†åé¦ˆï¼Œå‡†å¤‡ä¸‹ä¸€é˜¶æ®µè®¡åˆ’';
                }
            } else {
                switch(career) {
                    case 'it':
                        if (stage === 'è®¾è®¡é˜¶æ®µ') return 'å®Œæˆç³»ç»Ÿè¯¦ç»†è®¾è®¡ï¼Œè¿›è¡ŒæŠ€æœ¯è¯„å®¡ï¼Œå‡†å¤‡å¼€å‘ç¯å¢ƒ';
                        else if (stage === 'æµ‹è¯•é˜¶æ®µ') return 'å®Œæˆç³»ç»Ÿæµ‹è¯•ï¼Œä¿®å¤æµ‹è¯•é—®é¢˜ï¼Œå‡†å¤‡ä¸Šçº¿éƒ¨ç½²';
                        else return 'å®Œæˆå‰©ä½™æ¨¡å—å¼€å‘ï¼Œè¿›è¡Œé›†æˆæµ‹è¯•ï¼Œå‡†å¤‡ä¸Šçº¿éƒ¨ç½²';
                    case 'product':
                        if (stage === 'è®¾è®¡é˜¶æ®µ') return 'ç»§ç»­å®Œæˆå‰©ä½™æ¨¡å—è®¾è®¡ï¼Œç»„ç»‡è®¾è®¡è¯„å®¡ï¼Œå®Œå–„äº§å“æ–‡æ¡£';
                        else if (stage === 'è¯„å®¡é˜¶æ®µ') return 'è·Ÿè¿›è¯„å®¡åé¦ˆï¼Œä¼˜åŒ–è®¾è®¡æ–¹æ¡ˆï¼Œå‡†å¤‡å¼€å‘æ’æœŸ';
                        else if (stage === 'è·Ÿè¿›é˜¶æ®µ') return 'è·Ÿè¿›å¼€å‘è¿›åº¦ï¼Œåè°ƒèµ„æºéœ€æ±‚ï¼Œç¡®ä¿é¡¹ç›®æŒ‰æ—¶äº¤ä»˜';
                        else return 'è·Ÿè¿›é¡¹ç›®å¼€å‘è¿›åº¦ï¼Œåè°ƒå¼€å‘èµ„æºï¼Œç¡®ä¿äº§å“åŠŸèƒ½æŒ‰è®¡åˆ’å®ç°';
                    case 'market':
                        if (stage === 'ç­–åˆ’é˜¶æ®µ') return 'ç»§ç»­å®Œæˆæ´»åŠ¨ç­–åˆ’ï¼Œå®Œå–„æ‰§è¡Œæ–¹æ¡ˆï¼Œå‡†å¤‡å®£ä¼ ç‰©æ–™';
                        else if (stage === 'æ‰§è¡Œé˜¶æ®µ') return 'ç»§ç»­æ‰§è¡Œæ´»åŠ¨æ–¹æ¡ˆï¼Œç›‘æ§æ¨å¹¿æ•ˆæœï¼Œä¼˜åŒ–æŠ•æ”¾ç­–ç•¥';
                        else return 'ç»§ç»­å®Œæˆæ´»åŠ¨çš„ç­–åˆ’ä¸æ‰§è¡Œï¼Œç›‘æ§æ´»åŠ¨è¿›å±•';
                    default: return 'å®Œæˆå‰©ä½™å·¥ä½œï¼Œæ¨è¿›é¡¹ç›®è¿›å±•';
                }
            }
        }
        
        // ==================== ç”Ÿæˆè¿›åº¦æè¿° ====================
        function generateProgressDescription(project, tasks, career, progressInfo) {
            const { isCompleted, stage } = progressInfo;
            const taskCount = tasks.filter(t => t).length;
            const completedTasks = Math.min(taskCount, Math.floor(taskCount * 0.7));
            
            if (isCompleted) {
                switch(career) {
                    case 'it': return `é¡¹ç›®å·²å®Œæˆï¼Œå…±å®Œæˆ${completedTasks}ä¸ªä¸»è¦åŠŸèƒ½æ¨¡å—ï¼Œç³»ç»Ÿå·²ç¨³å®šè¿è¡Œ`;
                    case 'product': return `äº§å“è®¾è®¡å·²å®Œæˆï¼Œå®Œæˆ${completedTasks}ä¸ªå…³é”®ä»»åŠ¡ï¼Œéœ€æ±‚å·²æ˜ç¡®å¹¶äº¤ä»˜å¼€å‘`;
                    case 'market': return `æ´»åŠ¨å·²æˆåŠŸä¸Šçº¿/å®Œæˆï¼Œæ¨è¿›${completedTasks}é¡¹é‡ç‚¹å·¥ä½œï¼Œè¾¾åˆ°é¢„æœŸæ•ˆæœ`;
                    default: return `å·¥ä½œå·²å®Œæˆï¼Œå®Œæˆ${completedTasks}é¡¹ä¸»è¦ä»»åŠ¡`;
                }
            } else {
                if (career === 'it') {
                    return `å¼€å‘é˜¶æ®µï¼Œå·²å®Œæˆ${completedTasks}ä¸ªä¸»è¦åŠŸèƒ½æ¨¡å—ï¼Œæ•´ä½“è¿›åº¦æ­£å¸¸`;
                } else if (career === 'product') {
                    return `${stage}ï¼Œå®Œæˆ${completedTasks}ä¸ªå…³é”®ä»»åŠ¡ï¼Œäº§å“è®¾è®¡å·¥ä½œç¨³æ­¥æ¨è¿›`;
                } else if (career === 'market') {
                    return `${stage}ï¼Œæ¨è¿›${completedTasks}é¡¹é‡ç‚¹å·¥ä½œï¼Œæ´»åŠ¨æŒ‰è®¡åˆ’è¿›è¡Œ`;
                } else {
                    return `${stage}ï¼Œå®Œæˆ${completedTasks}é¡¹ä¸»è¦ä»»åŠ¡`;
                }
            }
        }
        
        // ==================== ç”¨æˆ·IDç®¡ç† ====================
        function getOrCreateUserId() {
            // å¦‚æœç”¨æˆ·å·²ç™»å½•ï¼Œä½¿ç”¨é‚®ç®±ä½œä¸ºID
            if (currentUserEmail) {
                return currentUserEmail;
            }
            
            // æ£€æŸ¥æœ¬åœ°å­˜å‚¨ä¸­æ˜¯å¦æœ‰åŒ¿åID
            let anonymousId = localStorage.getItem('weeklyReportAnonymousId');
            
            if (!anonymousId) {
                // ç”Ÿæˆæ–°çš„åŒ¿åID
                anonymousId = 'anonymous_' + Math.random().toString(36).substr(2, 9) + '_' + Date.now().toString(36);
                localStorage.setItem('weeklyReportAnonymousId', anonymousId);
                
                // è®°å½•åˆ°ç”¨æˆ·æ˜ å°„
                if (!userStats.anonymousUserMap[anonymousId]) {
                    userStats.anonymousUserMap[anonymousId] = {
                        id: anonymousId,
                        created: new Date().toISOString(),
                        lastActive: new Date().toISOString(),
                        activities: 0,
                        reports: 0
                    };
                    userStats.anonymousUsers++;
                    saveLocalStats();
                }
            }
            
            // æ›´æ–°æœ€åæ´»è·ƒæ—¶é—´
            if (userStats.anonymousUserMap[anonymousId]) {
                userStats.anonymousUserMap[anonymousId].lastActive = new Date().toISOString();
            }
            
            return anonymousId;
        }
        
        function mergeAnonymousData(userEmail) {
            const anonymousId = localStorage.getItem('weeklyReportAnonymousId');
            
            if (anonymousId && userEmail) {
                console.log(`åˆå¹¶æ•°æ®ï¼šåŒ¿åID ${anonymousId} -> ç”¨æˆ· ${userEmail}`);
                
                // æŸ¥æ‰¾åŒ¿åç”¨æˆ·çš„æ‰€æœ‰æ—¥å¿—å’Œåé¦ˆ
                const anonymousLogs = userStats.userLogs.filter(log => log.userId === anonymousId);
                const feedbacks = JSON.parse(localStorage.getItem('weeklyReportFeedbacks') || '[]');
                const anonymousFeedbacks = feedbacks.filter(fb => fb.userId === anonymousId);
                
                // å°†åŒ¿åæ•°æ®æ›´æ–°ä¸ºæ­£å¼ç”¨æˆ·æ•°æ®
                anonymousLogs.forEach(log => {
                    log.userId = userEmail;
                    log.userEmail = userEmail;
                });
                
                anonymousFeedbacks.forEach(fb => {
                    fb.userId = userEmail;
                    fb.userEmail = userEmail;
                });
                
                // ä¿å­˜æ›´æ–°åçš„åé¦ˆ
                localStorage.setItem('weeklyReportFeedbacks', JSON.stringify(feedbacks));
                
                // ä»åŒ¿åç”¨æˆ·æ˜ å°„ä¸­ç§»é™¤
                if (userStats.anonymousUserMap[anonymousId]) {
                    delete userStats.anonymousUserMap[anonymousId];
                    userStats.anonymousUsers = Math.max(0, userStats.anonymousUsers - 1);
                }
                
                // ç§»é™¤æœ¬åœ°å­˜å‚¨çš„åŒ¿åID
                localStorage.removeItem('weeklyReportAnonymousId');
                
                // ä¿å­˜ç»Ÿè®¡æ•°æ®
                saveLocalStats();
                
                console.log(`æ•°æ®åˆå¹¶å®Œæˆï¼š${anonymousLogs.length}æ¡æ—¥å¿—ï¼Œ${anonymousFeedbacks.length}æ¡åé¦ˆ`);
            }
        }
        
        // ==================== ä¸»é€»è¾‘å‡½æ•° ====================
        function selectCareer(career) {
            currentCareer = career;
            document.querySelectorAll('.career-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            document.getElementById('inputText').value = careerExamples[career];
        }
        
        function selectMode(mode) {
            currentMode = mode;
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            
            const desc = document.getElementById('modeDesc');
            if (mode === 'standard') {
                desc.innerHTML = `<strong>æ ‡å‡†ç‰ˆï¼š</strong>åŒ…å«é¡¹ç›®åç§°ã€è¿›åº¦ã€ä¸‹å‘¨è®¡åˆ’ã€ä¸Šçº¿æ—¶é—´ã€ä»»åŠ¡é€‚å½“æ‰©å……`;
            } else {
                desc.innerHTML = `<strong>è±ªåç‰ˆï¼š</strong>åŒ…å«é¡¹ç›®åç§°ã€è¿›åº¦ã€ä¸‹å‘¨è®¡åˆ’ã€é¢„è®¡ä¸Šçº¿æ—¶é—´ã€äº§å‡ºç‰©ã€ä¼šè®®ç»“è®ºã€é£é™©ã€ä»»åŠ¡è¯¦ç»†æ‰©å……`;
            }
        }
        
        function generateReport() {
            const input = document.getElementById('inputText').value.trim();
            if (!input) {
                alert('è¯·è¾“å…¥å·¥ä½œå†…å®¹ï¼');
                return;
            }
            
            const projects = parseContent(input);
            if (projects.length === 0) {
                alert('æœªè¯†åˆ«åˆ°æœ‰æ•ˆçš„å·¥ä½œå†…å®¹ï¼');
                return;
            }
            
            let report = '';
            
            projects.forEach((project, index) => {
                report += `${index + 1} ${project.name}\n`;
                
                const progressInfo = analyzeProgress(project, project.tasks, currentCareer);
                const progressDesc = generateProgressDescription(project, project.tasks, currentCareer, progressInfo);
                const nextWeekPlan = generateNextWeekPlan(project, project.tasks, currentCareer, progressInfo);
                
                if (currentMode === 'standard') {
                    report += `è¿›åº¦ï¼š${progressDesc}\n`;
                    report += `ä¸‹å‘¨è®¡åˆ’ï¼š${nextWeekPlan}\n`;
                    report += `ä¸Šçº¿æ—¶é—´ï¼š${project.timeInfo || 'ä¸‹æœˆä¸­æ—¬ä¸Šçº¿'}\n`;
                } else {
                    report += `è¿›åº¦ï¼š${progressDesc}ï¼›é¢„è®¡${project.timeInfo || "ä¸‹æœˆä¸­æ—¬"}å®Œæˆä¸»è¦ç›®æ ‡\n`;
                    report += `ä¸‹å‘¨è®¡åˆ’ï¼š${nextWeekPlan}\n`;
                    
                    const defaultOutputs = {
                        it: "æŠ€æœ¯æ–¹æ¡ˆæ–‡æ¡£ã€APIæ¥å£æ–‡æ¡£ã€æµ‹è¯•æŠ¥å‘Š",
                        product: "PRDæ–‡æ¡£ã€åŸå‹è®¾è®¡ç¨¿ã€äº§å“æ‰‹å†Œ",
                        market: "æ´»åŠ¨æ–¹æ¡ˆã€å®£ä¼ ç´ æã€æ•°æ®æŠ¥å‘Š"
                    };
                    report += `äº§å‡ºç‰©ï¼š${project.outputs || defaultOutputs[currentCareer]}\n`;
                    report += `é£é™©ï¼š${project.risks || "1 éœ€æ±‚å˜æ›´é£é™© 2 æŠ€æœ¯å®ç°é£é™© 3 æ—¶é—´å®‰æ’é£é™©"}\n`;
                }
                
                report += `å…·ä½“ä»»åŠ¡ï¼š\n`;
                project.tasks.forEach((task, taskIndex) => {
                    const expanded = expandTask(task, currentCareer, currentMode, project.name, taskIndex);
                    
                    if (currentMode === 'luxury' && project.meetingConclusion && 
                        (task.includes('ä¼šè®®') || task.includes('è¯„å®¡') || task.includes('æ²Ÿé€š'))) {
                        report += `${taskIndex + 1}. ${expanded}ï¼›ä¼šè®®ç»“è®ºï¼š${project.meetingConclusion.replace(/\n/g, ' ')}\n`;
                    } else {
                        report += `${taskIndex + 1}. ${expanded}\n`;
                    }
                });
                
                if (index < projects.length - 1) {
                    report += "\n";
                }
            });
            
            document.getElementById('outputContent').textContent = report;
            
            // è®°å½•ç”¨æˆ·æ´»åŠ¨
            logUserActivity('generate_report');
            updateStats();
        }
        
        function copyReport() {
            const text = document.getElementById('outputContent').textContent;
            if (!text || text.includes('ç”Ÿæˆçš„å‘¨æŠ¥å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ')) {
                alert('è¯·å…ˆç”Ÿæˆå‘¨æŠ¥ï¼');
                return;
            }
            
            navigator.clipboard.writeText(text).then(() => {
                const btn = document.querySelector('.copy-btn');
                const originalText = btn.innerHTML;
                btn.innerHTML = 'âœ… å·²å¤åˆ¶';
                setTimeout(() => {
                    btn.innerHTML = originalText;
                }, 2000);
            }).catch(err => {
                alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰æ‹©æ–‡æœ¬å¤åˆ¶');
            });
        }
        
        // ==================== ç”¨æˆ·ç³»ç»ŸåŠŸèƒ½ ====================
        function showLogin() {
            document.getElementById('loginModal').style.display = 'flex';
        }
        
        function showRegister() {
            document.getElementById('registerModal').style.display = 'flex';
        }
        
        function showFeedback() {
            document.getElementById('feedbackModal').style.display = 'flex';
        }
        
        function showAdmin() {
            const password = prompt('è¯·è¾“å…¥ç®¡ç†å‘˜å¯†ç :');
            if (password !== '522window') {
                if (password) alert('å¯†ç é”™è¯¯ï¼');
                return;
            }
            loadAdminStats();
            document.getElementById('adminModal').style.display = 'flex';
        }
        
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        
        function login() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            if (!email || !password) {
                showNotification('è¯·è¾“å…¥é‚®ç®±å’Œå¯†ç ', 'error');
                return;
            }
            
            // éªŒè¯ç”¨æˆ·æ˜¯å¦å­˜åœ¨
            const users = getRegisteredUsers();
            const user = users.find(u => u.email === email && u.password === password);
            
            if (!user) {
                showNotification('é‚®ç®±æˆ–å¯†ç é”™è¯¯', 'error');
                return;
            }
            
            // ç™»å½•æˆåŠŸï¼Œè®°å½•å½“å‰ç”¨æˆ·
            currentUserEmail = email;
            currentUserId = email;
            
            // åˆå¹¶åŒ¿åæ•°æ®åˆ°æ­£å¼è´¦æˆ·
            mergeAnonymousData(email);
            
            showNotification(`ç™»å½•æˆåŠŸï¼æ¬¢è¿ ${email}`, 'success');
            closeModal('loginModal');
            
            // æ¸…ç©ºç™»å½•è¡¨å•
            document.getElementById('loginEmail').value = '';
            document.getElementById('loginPassword').value = '';
            
            logUserActivity('user_login');
        }
        
        function register() {
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('registerConfirmPassword').value;
            
            if (!email || !password) {
                showNotification('è¯·è¾“å…¥é‚®ç®±å’Œå¯†ç ', 'error');
                return;
            }
            
            // éªŒè¯é‚®ç®±æ ¼å¼
            if (!validateEmail(email)) {
                showNotification('è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€', 'error');
                return;
            }
            
            // æ£€æŸ¥é‚®ç®±æ˜¯å¦å·²å­˜åœ¨
            const users = getRegisteredUsers();
            if (users.some(u => u.email === email)) {
                showNotification('è¯¥é‚®ç®±å·²æ³¨å†Œ', 'error');
                return;
            }
            
            if (password.length < 6) {
                showNotification('å¯†ç é•¿åº¦è‡³å°‘6ä½', 'error');
                return;
            }
            
            if (password !== confirmPassword) {
                showNotification('ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´', 'error');
                return;
            }
            
            // æ³¨å†ŒæˆåŠŸ
            const newUser = {
                email: email,
                password: password,
                registeredAt: new Date().toISOString()
            };
            
            users.push(newUser);
            localStorage.setItem('weeklyReportUsers', JSON.stringify(users));
            
            // æ›´æ–°ç»Ÿè®¡æ•°æ®
            userStats.registeredUsers = users.length;
            userStats.totalUsers = userStats.registeredUsers + userStats.anonymousUsers;
            
            // è®¾ç½®å½“å‰ç”¨æˆ·
            currentUserEmail = email;
            currentUserId = email;
            
            // åˆå¹¶åŒ¿åæ•°æ®åˆ°æ­£å¼è´¦æˆ·
            mergeAnonymousData(email);
            
            saveLocalStats();
            
            showNotification('æ³¨å†ŒæˆåŠŸï¼', 'success');
            closeModal('registerModal');
            
            // æ¸…ç©ºæ³¨å†Œè¡¨å•
            document.getElementById('registerEmail').value = '';
            document.getElementById('registerPassword').value = '';
            document.getElementById('registerConfirmPassword').value = '';
            
            logUserActivity('user_register');
        }
        
        function getRegisteredUsers() {
            try {
                return JSON.parse(localStorage.getItem('weeklyReportUsers') || '[]');
            } catch (e) {
                return [];
            }
        }
        
        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }
        
        // ==================== ç”¨æˆ·æ´»åŠ¨æ—¥å¿— ====================
        function logUserActivity(action) {
            const userId = getOrCreateUserId();
            const userEmail = currentUserEmail || 'åŒ¿åç”¨æˆ·';
            
            const logEntry = {
                timestamp: new Date().toISOString(),
                userId: userId,
                userEmail: userEmail,
                action: action,
                career: currentCareer,
                mode: currentMode,
                date: new Date().toDateString()
            };
            
            userStats.userLogs.unshift(logEntry);
            
            // æ›´æ–°ä»Šæ—¥ç»Ÿè®¡
            const today = new Date().toDateString();
            if (userStats.todayStats.date !== today) {
                userStats.todayStats = {
                    date: today,
                    users: new Set(),
                    reports: 0,
                    careers: { it: 0, product: 0, market: 0 }
                };
            }
            
            if (action === 'generate_report') {
                userStats.todayStats.reports++;
                userStats.todayStats.careers[currentCareer] = (userStats.todayStats.careers[currentCareer] || 0) + 1;
                userStats.totalReports++;
                userStats.careerStats[currentCareer] = (userStats.careerStats[currentCareer] || 0) + 1;
            }
            
            if (action === 'page_visit' || action === 'user_login' || action === 'user_register') {
                userStats.todayStats.users.add(userId);
                userStats.activeUsers.push({
                    userId: userId,
                    userEmail: userEmail,
                    lastActive: new Date().toISOString()
                });
            }
            
            // é™åˆ¶æ—¥å¿—æ•°é‡
            if (userStats.userLogs.length > 1000) {
                userStats.userLogs = userStats.userLogs.slice(0, 1000);
            }
            
            saveLocalStats();
        }
        
        function updateStats() {
            const today = new Date().toDateString();
            if (userStats.todayStats.date !== today) {
                userStats.todayStats = {
                    date: today,
                    users: new Set(),
                    reports: 0,
                    careers: { it: 0, product: 0, market: 0 }
                };
            }
            
            saveLocalStats();
        }
        
        // ==================== åå°ç®¡ç†åŠŸèƒ½ ====================
        function switchAdminTab(tabIndex) {
            // åˆ‡æ¢æ ‡ç­¾é¡µ
            document.querySelectorAll('.admin-tab').forEach((tab, index) => {
                tab.classList.toggle('active', index === tabIndex);
            });
            
            document.querySelectorAll('.admin-tab-content').forEach((content, index) => {
                content.classList.toggle('active', index === tabIndex);
            });
            
            // å¦‚æœåˆ‡æ¢åˆ°æ—¥å¿—æ ‡ç­¾ï¼Œåˆ·æ–°æ—¥å¿—æ˜¾ç¤º
            if (tabIndex === 2) {
                loadUserLogs();
            } else if (tabIndex === 3) {
                refreshUserData();
            }
        }
        
        function loadAdminStats() {
            // åŠ è½½ç”¨æˆ·æ•°æ®
            const users = getRegisteredUsers();
            userStats.registeredUsers = users.length;
            userStats.totalUsers = userStats.registeredUsers + userStats.anonymousUsers;
            
            // è®¡ç®—å‘¨ç•™å­˜ç‡
            const oneWeekAgo = new Date();
            oneWeekAgo.setDate(oneWeekAgo.getDate() - 7);
            const recentUsers = userStats.activeUsers.filter(user => 
                new Date(user.lastActive) > oneWeekAgo
            ).length;
            const retentionRate = userStats.totalUsers > 0 ? 
                Math.round((recentUsers / userStats.totalUsers) * 100) : 0;
            
            // æ›´æ–°æ˜¾ç¤º
            document.getElementById('adminTodayUsers').textContent = userStats.todayStats.users.size;
            document.getElementById('adminTodayReports').textContent = userStats.todayStats.reports;
            document.getElementById('adminTodayIT').textContent = userStats.todayStats.careers.it || 0;
            document.getElementById('adminTodayProduct').textContent = userStats.todayStats.careers.product || 0;
            document.getElementById('adminTodayMarket').textContent = userStats.todayStats.careers.market || 0;
            
            document.getElementById('adminTotalUsers').textContent = userStats.totalUsers;
            document.getElementById('adminTotalReports').textContent = userStats.totalReports;
            document.getElementById('adminRegisteredUsers').textContent = userStats.registeredUsers;
            document.getElementById('adminAnonymousUsers').textContent = userStats.anonymousUsers;
            document.getElementById('adminRetentionRate').textContent = retentionRate + '%';
            
            // åŠ è½½åé¦ˆ
            const feedbacks = JSON.parse(localStorage.getItem('weeklyReportFeedbacks') || '[]');
            let feedbackText = feedbacks.map((fb, i) => 
                `[${i+1}] ${new Date(fb.timestamp).toLocaleString()} - ${fb.type}\nç”¨æˆ·ID: ${fb.userId || 'æœªè®°å½•'}\nç”¨æˆ·: ${fb.userEmail || 'æœªç™»å½•'}\n${fb.text}\n`
            ).join('\n');
            document.getElementById('adminFeedback').value = feedbackText || 'æš‚æ— åé¦ˆ';
        }
        
        function loadUserLogs() {
            const logsContainer = document.getElementById('adminLogs');
            logsContainer.innerHTML = '';
            
            // åªæ˜¾ç¤ºæœ€è¿‘100æ¡æ—¥å¿—
            const recentLogs = userStats.userLogs.slice(0, 100);
            
            if (recentLogs.length === 0) {
                logsContainer.innerHTML = '<div class="log-entry">æš‚æ— æ—¥å¿—è®°å½•</div>';
                return;
            }
            
            recentLogs.forEach(log => {
                const logEntry = document.createElement('div');
                logEntry.className = 'log-entry';
                
                const timestamp = new Date(log.timestamp).toLocaleString();
                const actionMap = {
                    'page_visit': 'é¡µé¢è®¿é—®',
                    'generate_report': 'ç”Ÿæˆå‘¨æŠ¥',
                    'user_login': 'ç”¨æˆ·ç™»å½•',
                    'user_register': 'ç”¨æˆ·æ³¨å†Œ',
                    'submit_feedback': 'æäº¤åé¦ˆ'
                };
                
                const actionText = actionMap[log.action] || log.action;
                const userEmail = log.userEmail || 'åŒ¿åç”¨æˆ·';
                const userId = log.userId || 'æœªè®°å½•';
                const details = log.action === 'generate_report' ? 
                    `èŒä¸šï¼š${log.career}ï¼Œæ¨¡å¼ï¼š${log.mode}` : '';
                
                logEntry.innerHTML = `
                    <div class="log-timestamp">${timestamp}</div>
                    <div class="log-action">${actionText}</div>
                    <div class="log-userid">ç”¨æˆ·IDï¼š${userId}</div>
                    <div class="log-email">ç”¨æˆ·ï¼š${userEmail}</div>
                    <div class="log-details">${details}</div>
                `;
                
                logsContainer.appendChild(logEntry);
            });
        }
        
        function refreshUserData() {
            // æ›´æ–°ç”¨æˆ·ç»Ÿè®¡æ˜¾ç¤º
            document.getElementById('registeredCount').textContent = userStats.registeredUsers;
            document.getElementById('anonymousCount').textContent = userStats.anonymousUsers;
            
            // æ˜¾ç¤ºåŒ¿åç”¨æˆ·åˆ—è¡¨
            const anonymousList = document.getElementById('anonymousUserList');
            const anonymousUsers = Object.values(userStats.anonymousUserMap);
            
            if (anonymousUsers.length === 0) {
                anonymousList.innerHTML = '<div style="color: #8b949e; padding: 5px;">æš‚æ— åŒ¿åç”¨æˆ·æ•°æ®</div>';
                return;
            }
            
            let html = '';
            anonymousUsers.forEach((user, index) => {
                const created = new Date(user.created).toLocaleDateString();
                const lastActive = new Date(user.lastActive).toLocaleDateString();
                html += `
                    <div style="padding: 5px; border-bottom: 1px solid #333; font-size: 11px;">
                        <div><strong style="color: #ff7b72;">${user.id}</strong></div>
                        <div>åˆ›å»º: ${created} | æœ€åæ´»è·ƒ: ${lastActive}</div>
                        <div>æ´»åŠ¨: ${user.activities}æ¬¡ | æŠ¥å‘Š: ${user.reports}æ¬¡</div>
                    </div>
                `;
            });
            
            anonymousList.innerHTML = html;
        }
        
        function submitFeedback() {
            const type = document.getElementById('feedbackType').value;
            const text = document.getElementById('feedbackText').value.trim();
            
            if (!text) {
                showNotification('è¯·å¡«å†™åé¦ˆå†…å®¹ï¼', 'error');
                return;
            }
            
            const userId = getOrCreateUserId();
            const userEmail = currentUserEmail || 'åŒ¿åç”¨æˆ·';
            
            const feedback = {
                type: type,
                text: text,
                timestamp: new Date().toISOString(),
                userId: userId,
                userEmail: userEmail,
                career: currentCareer,
                mode: currentMode
            };
            
            let feedbacks = JSON.parse(localStorage.getItem('weeklyReportFeedbacks') || '[]');
            feedbacks.push(feedback);
            localStorage.setItem('weeklyReportFeedbacks', JSON.stringify(feedbacks));
            
            showNotification('æ„Ÿè°¢æ‚¨çš„åé¦ˆï¼', 'success');
            closeModal('feedbackModal');
            document.getElementById('feedbackText').value = '';
            
            // è®°å½•æ´»åŠ¨
            logUserActivity('submit_feedback');
        }
        
        // ==================== Excelå¯¼å‡ºåŠŸèƒ½ ====================
        function exportLogsExcel() {
            if (userStats.userLogs.length === 0) {
                showNotification('æ²¡æœ‰æ—¥å¿—æ•°æ®å¯ä»¥å¯¼å‡º', 'error');
                return;
            }
            
            // åˆ›å»ºCSVå†…å®¹
            const headers = ['æ—¶é—´æˆ³', 'ç”¨æˆ·ID', 'ç”¨æˆ·è´¦å·', 'è¡Œä¸ºç±»å‹', 'èŒä¸š', 'æ¨¡å¼', 'æ—¥æœŸ'];
            const rows = userStats.userLogs.map(log => [
                new Date(log.timestamp).toLocaleString(),
                log.userId || 'æœªè®°å½•',
                log.userEmail || 'åŒ¿åç”¨æˆ·',
                log.action,
                log.career,
                log.mode,
                log.date
            ]);
            
            const csvContent = [
                headers.join(','),
                ...rows.map(row => row.map(cell => `"${cell}"`).join(','))
            ].join('\n');
            
            // åˆ›å»ºBlobå¹¶ä¸‹è½½
            const blob = new Blob(['\uFEFF' + csvContent], { type: 'text/csv;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `ç”¨æˆ·è¡Œä¸ºæ—¥å¿—_${new Date().toISOString().slice(0,10)}.csv`;
            a.click();
            URL.revokeObjectURL(url);
            
            showNotification('æ—¥å¿—æ•°æ®å·²å¯¼å‡ºä¸ºExcelæ ¼å¼', 'success');
        }
        
        function exportFeedbackExcel() {
            const feedbacks = JSON.parse(localStorage.getItem('weeklyReportFeedbacks') || '[]');
            
            if (feedbacks.length === 0) {
                showNotification('æ²¡æœ‰åé¦ˆæ•°æ®å¯ä»¥å¯¼å‡º', 'error');
                return;
            }
            
            // åˆ›å»ºCSVå†…å®¹
            const headers = ['æ—¶é—´æˆ³', 'ç”¨æˆ·ID', 'ç”¨æˆ·è´¦å·', 'åé¦ˆç±»å‹', 'å†…å®¹', 'èŒä¸š', 'æ¨¡å¼'];
            const rows = feedbacks.map(fb => [
                new Date(fb.timestamp).toLocaleString(),
                fb.userId || 'æœªè®°å½•',
                fb.userEmail || 'åŒ¿åç”¨æˆ·',
                fb.type,
                fb.text.replace(/"/g, '""').replace(/\n/g, ' '),
                fb.career || '',
                fb.mode || ''
            ]);
            
            const csvContent = [
                headers.join(','),
                ...rows.map(row => row.map(cell => `"${cell}"`).join(','))
            ].join('\n');
            
            // åˆ›å»ºBlobå¹¶ä¸‹è½½
            const blob = new Blob(['\uFEFF' + csvContent], { type: 'text/csv;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `ç”¨æˆ·åé¦ˆ_${new Date().toISOString().slice(0,10)}.csv`;
            a.click();
            URL.revokeObjectURL(url);
            
            showNotification('åé¦ˆæ•°æ®å·²å¯¼å‡ºä¸ºExcelæ ¼å¼', 'success');
        }
        
        function exportAllData() {
            const data = {
                stats: userStats,
                feedbacks: JSON.parse(localStorage.getItem('weeklyReportFeedbacks') || '[]'),
                users: getRegisteredUsers(),
                anonymousUsers: userStats.anonymousUserMap,
                timestamp: new Date().toISOString()
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `å®Œæ•´æ•°æ®_${new Date().toISOString().slice(0,10)}.json`;
            a.click();
            URL.revokeObjectURL(url);
            
            showNotification('å®Œæ•´æ•°æ®å·²å¯¼å‡º', 'success');
        }
        
        function resetAllStats() {
            if (confirm('ç¡®å®šè¦é‡ç½®æ‰€æœ‰ç»Ÿè®¡æ•°æ®å—ï¼Ÿæ­¤æ“ä½œå°†æ¸…ç©ºæ‰€æœ‰ç»Ÿè®¡æ•°æ®å’Œæ—¥å¿—ï¼Œä½†ä¿ç•™æ³¨å†Œç”¨æˆ·ä¿¡æ¯ã€‚')) {
                // é‡ç½®ç»Ÿè®¡æ•°æ®
                const users = getRegisteredUsers();
                userStats = {
                    totalUsers: users.length + userStats.anonymousUsers,
                    registeredUsers: users.length,
                    anonymousUsers: userStats.anonymousUsers, // ä¿ç•™åŒ¿åç”¨æˆ·æ•°
                    activeUsers: [],
                    totalReports: 0,
                    careerStats: { it: 0, product: 0, market: 0 },
                    userLogs: [],
                    anonymousUserMap: userStats.anonymousUserMap, // ä¿ç•™åŒ¿åç”¨æˆ·æ˜ å°„
                    todayStats: {
                        date: new Date().toDateString(),
                        users: new Set(),
                        reports: 0,
                        careers: { it: 0, product: 0, market: 0 }
                    }
                };
                
                saveLocalStats();
                loadAdminStats();
                
                showNotification('ç»Ÿè®¡æ•°æ®å·²é‡ç½®', 'success');
            }
        }
        
        function clearFeedback() {
            if (confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰ç”¨æˆ·åé¦ˆå—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ï¼')) {
                localStorage.removeItem('weeklyReportFeedbacks');
                document.getElementById('adminFeedback').value = 'æš‚æ— åé¦ˆ';
                showNotification('ç”¨æˆ·åé¦ˆå·²æ¸…ç©º', 'success');
            }
        }
        
        function clearLogs() {
            if (confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰ç”¨æˆ·è¡Œä¸ºæ—¥å¿—å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ï¼')) {
                userStats.userLogs = [];
                saveLocalStats();
                loadUserLogs();
                showNotification('ç”¨æˆ·æ—¥å¿—å·²æ¸…ç©º', 'success');
            }
        }
        
        function clearAnonymousData() {
            if (confirm('ç¡®å®šè¦æ¸…ç†æ‰€æœ‰åŒ¿åç”¨æˆ·æ•°æ®å—ï¼Ÿæ­¤æ“ä½œå°†åˆ é™¤æ‰€æœ‰åŒ¿åç”¨æˆ·çš„æ—¥å¿—å’Œåé¦ˆï¼Œä½†ä¸ä¼šå½±å“å·²æ³¨å†Œç”¨æˆ·ã€‚')) {
                // æ¸…é™¤åŒ¿åç”¨æˆ·æ—¥å¿—
                userStats.userLogs = userStats.userLogs.filter(log => !log.userId.startsWith('anonymous_'));
                
                // æ¸…é™¤åŒ¿åç”¨æˆ·åé¦ˆ
                const feedbacks = JSON.parse(localStorage.getItem('weeklyReportFeedbacks') || '[]');
                const filteredFeedbacks = feedbacks.filter(fb => !fb.userId.startsWith('anonymous_'));
                localStorage.setItem('weeklyReportFeedbacks', JSON.stringify(filteredFeedbacks));
                
                // é‡ç½®åŒ¿åç”¨æˆ·ç»Ÿè®¡
                userStats.anonymousUsers = 0;
                userStats.anonymousUserMap = {};
                userStats.totalUsers = userStats.registeredUsers;
                
                saveLocalStats();
                refreshUserData();
                
                showNotification('åŒ¿åç”¨æˆ·æ•°æ®å·²æ¸…ç†', 'success');
            }
        }
        
        function saveLocalStats() {
            try {
                const statsToSave = {
                    ...userStats,
                    todayStats: {
                        ...userStats.todayStats,
                        users: Array.from(userStats.todayStats.users)
                    }
                };
                
                localStorage.setItem('weeklyReportUserStats', JSON.stringify(statsToSave));
            } catch (e) {
                console.log('ä¿å­˜ç»Ÿè®¡å¤±è´¥:', e);
            }
        }
        
        function showNotification(message, type = 'info') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // ==================== åˆå§‹åŒ– ====================
        document.addEventListener('DOMContentLoaded', function() {
            // åŠ è½½æœ¬åœ°ç»Ÿè®¡æ•°æ®
            const savedStats = localStorage.getItem('weeklyReportUserStats');
            if (savedStats) {
                try {
                    const parsed = JSON.parse(savedStats);
                    userStats = {
                        ...userStats,
                        ...parsed
                    };
                    
                    if (userStats.todayStats && userStats.todayStats.users && Array.isArray(userStats.todayStats.users)) {
                        userStats.todayStats.users = new Set(userStats.todayStats.users);
                    }
                    
                    // å¦‚æœæ˜¯æ–°çš„ä¸€å¤©ï¼Œé‡ç½®ä»Šæ—¥ç»Ÿè®¡ä½†ä¿ç•™æ—¥æœŸ
                    const today = new Date().toDateString();
                    if (userStats.todayStats.date !== today) {
                        userStats.todayStats = {
                            date: today,
                            users: new Set(),
                            reports: 0,
                            careers: { it: 0, product: 0, market: 0 }
                        };
                        saveLocalStats();
                    }
                    
                    // è®¡ç®—åŒ¿åç”¨æˆ·æ•°
                    userStats.anonymousUsers = Object.keys(userStats.anonymousUserMap || {}).length;
                    userStats.totalUsers = (userStats.registeredUsers || 0) + userStats.anonymousUsers;
                } catch (e) {
                    console.log('åŠ è½½ç»Ÿè®¡å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤å€¼:', e);
                }
            }
            
            // åˆå§‹åŒ–è¾“å…¥æ¡†å†…å®¹
            document.getElementById('inputText').value = careerExamples['it'];
            
            // è®¾ç½®æ¨¡æ€æ¡†ç‚¹å‡»å…³é—­
            window.addEventListener('click', function(event) {
                if (event.target.classList.contains('modal')) {
                    event.target.style.display = 'none';
                }
            });
            
            // è·å–å½“å‰ç”¨æˆ·IDï¼ˆå¦‚æœæ˜¯åŒ¿åç”¨æˆ·ï¼Œç¡®ä¿æœ‰IDï¼‰
            currentUserId = getOrCreateUserId();
            
            // è®°å½•é¡µé¢è®¿é—®
            logUserActivity('page_visit');
            
            console.log('å‘¨æŠ¥ç”Ÿæˆå™¨å·²åˆå§‹åŒ–å®Œæˆï¼');
            console.log('å½“å‰ç”¨æˆ·ID:', currentUserId);
            console.log('ç®¡ç†å‘˜å¯†ç : 522window');
        });
    </script>
</body>
</html>